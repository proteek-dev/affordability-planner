!function(he){var e;he.ReadSpeaker&&he.ReadSpeaker.uId&&"wR_script"===he.ReadSpeaker.uId?console.warn("[webReader] Object window.ReadSpeaker already exists! Aborting initialization."):(e=function(){function r(e){e=e.replace("_",".");var t=!1===v[e]?[e]:v[e];c++;for(var r,n=0;r=t[n];n++){var o=U(r);if("function"==typeof o.init)if(o.dependency){if(!X(o.dependency)){ce("[rspkr.setCoreLoaded] Dependencies for "+r+" ("+o.dependency+") are not yet loaded. Putting it on hold."),E[r]=o.dependency.constructor===Array?o.dependency:[o.dependency];for(var s,i=E[r].length-1;s=E[r][i];i--)X(s)&&E[r].splice(i,1);continue}o.init.apply(o,[])}else o.init.apply(o,[]);!function(e){for(var t in ce("[rspkr.setCoreLoaded] Done loading module "+e),A.push(e),E)if(E[t].length)for(var r,n=E[t].length-1;r=E[t][n];n--)r!==e&&!X(r)||E[t].splice(n,1),0===E[t].length&&(ce("[rspkr.setCoreLoaded] All dependencies for "+t+" have been loaded. Resuming its initiation."),A.push(t),(r=U(t)).init.apply(r,[]))}(r)}c===Object.size(v)&&(rspkr.Common.addEvent("onModsLoaded",function(){rspkr.ds.unload(),rspkr.c.Detect.init(),rspkr.Popup.init()}),O=!0,V("rsmod_lib.RSLib"))}function d(){return"string"==typeof $.forceAdapter&&$.forceAdapter.length&&"ioshtml5"!==$.forceAdapter?$.forceAdapter:he.AudioContext||he.webkitAudioContext?"webAudio":"html5"}function u(){for(var e=J(),t=0,r=e.length;t<r;t++)$rs.addClass(e[t],K.join(" "))}function p(){if(!O&&!P)if(P=!0,!z||$.noDefaultSkin&&"1"===$.noDefaultSkin||ne.load({id:"rsmod_Styles",type:"text/css",src:k+y+".Styles"+(H.length?H:"")+".css",cb:null}),/combined/i.test($.pids))for(var e in v)v.hasOwnProperty(e)&&r(e);else for(var t in v)v.hasOwnProperty(t)&&(t=t,ne.load({id:"req_"+t,type:"text/javascript",src:("pub.Config"===t?y:k+y)+"."+t+".js",cb:function(e){e=he.event&&he.event.srcElement&&he.event.srcElement.id?he.event.srcElement.id:e;e&&r(e.replace("req_",""))},async:!0}))}function f(){rspkr.log("[rspkr.updateBaseClass] Attempting to update..");for(var e=document.getElementsByTagName("div"),t=/\brsbtn\b/,r=0,n=e.length;r<n;r++)t.test(e[r].className)&&(e[r].className=e[r].className.replace(t,"rsbtn "+B.toLowerCase()));rspkr.log("[rspkr.updateBaseClass] Update successful!")}function e(e,t){if(t=t||{},!e&&rspkr.item&&rspkr.item("general.popupHref"))return rspkr.item("general.popupHref");if(!e&&he.rsConf&&he.rsConf.general&&he.rsConf.general.popupHref)return he.rsConf.general.popupHref;var r,n=e&&t.scopedSearch?[]:Array.prototype.slice.call(rspkr.getRSBtns());if(e&&e.querySelector){for(var o=0;o<n.length;o++)n[o]===e&&n.splice(o,1);n.unshift(e)}for(var s=0;a=n[s];s++){var i=a.querySelector(".rsbtn_play"),a=i?i.getAttribute("href"):void 0;if(a&&t.prioritizeVisible&&!$rs.isVisible(i))r=r||a;else if(a)return a}if(!t.scopedSearch){if(r)return r;if(document.querySelectorAll){for(var l,c=(e||document).querySelectorAll(".rs_href"),d=0;l=c[d];d++){if($rs.getAttr(l,"href"))return $rs.getAttr(l,"href");if($rs.getAttr(l,"data-href"))return $rs.getAttr(l,"data-href")}for(var u,p=(e||document).querySelectorAll('[href*="readspeaker.com"]'),f=0;u=p[f];f++)if(/rsent?/gi.test($rs.getAttr(u,"href")))return $rs.getAttr(u,"href")}}}function t(){var e=rspkr.item("general.selectionPlayer");if(e){var t=document.querySelector(e);if(t)return t}return(t=document.querySelector(".rs_exp"))||null}function n(e){return e=e?".":"",rspkr.skin&&"default"!==rspkr.skin?e+rspkr.skin.toLowerCase():e+(rspkr.item("ui.rsbtnClass")||"rsbtn")}function o(e){N=/^,[0-9,]*,$/.test(e)?e:","+e+","}var g,s,i,h,m,b,a,l={major:"3",minor:"8",update:"0",revision:"2419",prod:"wr"},y="ReadSpeaker",k="r/r2419/",v=[],c=0,w=0,S=!1,A=[],E={},_=0,C=[],D=[],R=!1,L=0,x=!1,$=null,B="default",T=[],O=!1,P=!1,N="",I={},M="",j=null,z=!1,q=!1,F=[],H="",K=[],U=function(e){if("string"==typeof e){for(var t=(e="ReadSpeaker."+e.replace("_",".")).split("."),r=he,n=0,o=t.length;n<o;n++){if(!r)return!1;if(!r[t[n]])return!1;if(n===o-1)return r[t[n]];r=r[t[n]]}return!1}},V=function(e){A.push(e);e=U(e);"function"==typeof e.init&&e.init.apply(e,[]),function(){if(O&&he.ReadSpeaker.modmap){var e=he.ReadSpeaker.modmap,t=[],r=0,n="|",o=[];for(var s=0,i=T.length;s<i;s++)if(t=e.products&&typeof e.products[T[s]]==="function"?e.products[T[s]]():null){r=0;for(var a=0,l=t.length;a<l;a++)if(n.indexOf("|"+t[a][0]+t[a][1]+"|")===-1){if(t[a][0].length){o[t[a][0]]=t[a][2];ne.load({id:"rsmod_"+t[a][0],type:t[a][1],src:(t[a][2]&&t[a][2]===true?y:k+y)+"."+t[a][0]+(t[a][1]==="text/css"?".css":".js"),cb:function(){var e=(he.event&&he.event.srcElement&&he.event.srcElement.id?he.event.srcElement.id:this.id).replace("rsmod_","");W(e,o[e])},async:true})}if(typeof t[a][1]!=="undefined"&&/text\/javascript/.test(t[a][1]))r++;n+=t[a][0]+t[a][1]+"|"}w+=r}S=true;if(t.length===0)W(null,null,true)}}()},W=function(e,t,r){if(!(r=void 0!==r)){A.push(e),_++;for(var n=0,o=(t=t||[e]).length;n<o;n++)try{var s=U(t[n]);"function"==typeof s.init&&s.init.apply(s,[])}catch(e){rspkr.error("[rspkr] Could not load: "+t[n]+" | "+e)}}_===w&&!0===S&&(ce("[rspkr] All prod mods loaded. _domready = "+x,4),z&&he.ReadSpeaker.loadInit(),he.ReadSpeaker.Common.addEvent("onReady",function(){rspkr.devt("onBeforeQueueExecuted",he),re.executeCode(),re.flush(),rspkr.devt("onAfterQueueExecuted",he),j&&function(){rspkr.log("[rspkr.startAutoplay] Id: "+j);var e=$rs.get(j);if($rs.isArray(e)&&e.length)e=e[0];else if($rs.isArray(e)&&!e.length)return;var t=$rs.findIn(e,"a");if($rs.isArray(t)&&t.length)t=t[0];else if($rs.isArray(t)&&!t.length)return;he.readpage(t)}()}),e=function(){rspkr.Common.createShortcuts(),rspkr.devt("onModsLoaded",he),rspkr.devt("onAfterModsLoaded",he),rspkr.devt("onReady",he),he.ReadSpeaker.ui.viewport={width:$rs.width(he),height:$rs.height(he)}},x?e():he.ReadSpeaker.Common.addEvent("onDOMReady",e))},X=function(e){e.constructor===Array||(e=[e]);for(var t,r=0,n=0;t=A[n];n++)for(var o,s=0;o=e[s];s++)if(t===o){r++;break}return r===e.length},Y={isLoaded:!1,isTogglerAdded:!1,toggler:{add:function(){if(!(document.documentMode&&document.documentMode<=9||rspkr.nofeatures()||rspkr.notools()||rspkr.mobile())){for(var e,t,r=J("rs_addtools"),n=rspkr.item("ui.tooltoggler.big"),o=!1,s=0,i=r.length;s<i;s++)r[s]&&r[s].className&&-1===r[s].className.indexOf("rs_notools")&&(n&&$rs.addClass(r[s],"mega_toggle"),r[s].querySelectorAll(".rsbtn_tooltoggle").length||(e=document.createElement("div"),t=rspkr.getPhrase("menu",rspkr.uiLang()),e.innerHTML='<button type="button" class="rsbtn_tooltoggle" data-rsshortcut="menu" data-rslang="title/arialabel:menu" title="%tgl%" aria-label="%tgl%" aria-expanded="false" data-rs-tooltip="." data-rs-direction="u"><span class="rsicn rsicn-arrow-down" aria-hidden="true"></span></button>'.replace(/%tgl%/g,t),t||(o=!0),e.childNodes[0].style.display="none",r[s].insertBefore&&(e=r[s].insertBefore(e.childNodes[0],r[s].firstChild),r[s].id&&r[s].id.length||(r[s].id=rspkr.getID()),$rs.setAttr(e,"data-rs-container",r[s].id),$rs.regEvent(e,"mouseover focus",Y.toggler.events.over),$rs.regEvent(e,"mouseout blur",Y.toggler.events.out),$rs.regEvent(e,"click",Y.toggler.events.click),Y.isTogglerAdded=!0)));o&&rspkr.Lang&&he.rspkr.evt("onLangLoaded",function(){rspkr.getRSBtns().forEach(function(e){he.rspkr.Lang.updateUi(e)})})}},events:{over:function(e){rspkr.preventDefault(e),Y.zoomTogglerIn(document.getElementById($rs.getAttr(this,"data-rs-container")))},out:function(e){rspkr.preventDefault(e),Y.zoomTogglerOut(document.getElementById($rs.getAttr(this,"data-rs-container")))},click:function(e){rspkr.preventDefault(e),Y.load.apply(this,[e])}}},load:function(e){var t=this;e&&e.type&&-1<e.type.indexOf("mouse")?F[$rs.getAttr(t,"data-rsevent-id")]=he.setTimeout(function(){Y.dispatch(t)},500):Y.dispatch(t)},loadCancel:function(){F[$rs.getAttr(this,"data-rsevent-id")]&&he.clearTimeout(F[$rs.getAttr(this,"data-rsevent-id")])},dispatch:function(e){R?(Y.afterLoad.apply(e,[!0]),Y.open.apply(e,[])):(p(),C.push(function(){Y.afterLoad.apply(e,[!0]),rspkr.ui.addTools(),Y.open.apply(e,[])}))},afterLoad:function(){function e(e){$rs.unregEvent(this,"mouseleave"),$rs.regEvent($rs.closest(e,".rsbtn_tools"),"mouseleave",function(){$rs.unregEvent(this,"mouseleave"),Y.close.apply(this,[])})}for(var t,r=J("rs_addtools"),n=0,o=r.length;n<o;n++)(t=r[n].querySelector(".rsbtn_tooltoggle"))&&(Y.isLoaded=!0,Y.loadCancel(),$rs.unregEvent(t,"click"),$rs.regEvent(t,"click",Y.toggle),rspkr.Common.addEvent("onToolClicked",e),rspkr.Common.addEvent("onLangLoaded",function(e){e===rspkr.uiLang()&&(e=$rs.arr(".rsbtn_tooltoggle"),rspkr.Lang.updateUi(e))})),rspkr.Lang.updateUi(t)},open:function(e){rspkr.ui.Tools.accessibility.isAccessKey(e)&&(rspkr.ui.Tools.accessibility.storeSelection(),rspkr.c.addEvent("onAfterToolsOpen",function(){rspkr.ui.Tools.accessibility.restoreSelection(),rspkr.c.clearEvent("onAfterToolsOpen",rspkr.ui.Tools.accessibility.restoreSelection)}));var t,r=Y.getPlayerContainer(this),n=$rs.findIn(r,".rsbtn_toolpanel");if(rspkr.ui&&rspkr.ui.Accessibility.escapes.menu(n),rspkr.ui&&rspkr.ui.Accessibility.escapes.dropdowns(),($rs.isArray(n)&&!n.length||void 0===n)&&rspkr.ui.addTools(),n=$rs.findIn(r,".rsbtn_toolpanel"),rspkr.ui.utils.setZIndex(r,!0),!n)throw"Could not find menu!";rspkr.item("ui.toolbar.horizontal")&&!$rs.getAttr(n,"data-full-width")&&($rs.hasClass(r,"rsdetached")&&(r.style.width="1000px"),n.style.display="block",t=$rs.width($rs.findIn(n,".rsbtn_tools"))+5,n.style.display="",$rs.hasClass(r,"rsdetached")&&(r.style.width=""),$rs.setAttr(n,"data-full-width",t),n.style.width=t+"px",n.style.minWidth=t+"px"),rspkr.item("ui.toolbar.inverted")?(n.style.display="block",e=n.querySelector(".rsbtn_tools").clientHeight,n.style.removeProperty("display"),t=r.clientHeight,n.style.top=-1*(e+t+3)+"px"):n.style.removeProperty("top"),Y.zoomTogglerIn.apply(this,[r]),$rs.hasClass(r,"toolsopen")||(rspkr.devt("onBeforeToolsOpen","__self__",[r]),$rs.addClass(r,"toolsopen"),rspkr.devt("onAfterToolsOpen","__self__",[r])),$rs.setAttr($rs.findIn(r,".rsbtn_tooltoggle"),"aria-expanded","true");r=$rs.findIn(r,".rsbtn_tooltoggle");$rs.isArray(n)&&(n=n[0]),he.getComputedStyle&&(o=document.defaultView.getComputedStyle(n).getPropertyValue("z-index"),$rs.css(r,"z-index",parseInt(o)+1));var o=function(){var e=this.querySelector(".rsbtn_tools");e.style.width="auto",this.style.width="700px";e=$rs.width(e)+10;this.style.minWidth=e+"px",this.style.width="auto"};rspkr.c.addEvent("onUiUpdated",o.bind(n)),o.bind(n)(),n.parentElement.querySelector(".rsbtn_tooltoggle").focus(),document.removeEventListener("click",Y.close),document.addEventListener("click",Y.close)},close:function(e){rspkr.ui.Tools.accessibility.isAccessKey(e)&&(rspkr.ui.Tools.accessibility.storeSelection(),rspkr.c.addEvent("onAfterToolsClose",function(){rspkr.ui.Tools.accessibility.restoreSelection(),rspkr.c.clearEvent("onAfterToolsClose",rspkr.ui.Tools.accessibility.restoreSelection)}));var t=Y.getPlayerContainer(this)||document.querySelector("div.toolsopen"),e=$rs.findIn(t,".rsbtn_toolpanel");rspkr.devt("onBeforeToolsClose","__self__",[t]),$rs.removeClass(t,"toolsopen"),rspkr.devt("onAfterToolsClose","__self__",[t]),$rs.setAttr($rs.findIn(t,".rsbtn_tooltoggle"),"aria-expanded","false"),rspkr.ui.Accessibility.escapes.menu(e),rspkr.ui.Accessibility.escapes.langpicker(),document.removeEventListener("click",Y.close)},toggle:function(e){rspkr.preventDefault(e),Y.isLoaded&&($rs.hasClass(Y.getPlayerContainer(this),"toolsopen")?Y.close:Y.open).apply(this,[e])},getPlayerContainer:function(e){return $rs.closest(e,rspkr.rsbtnClass(!0)+",.rs_addtools")},zoomTogglerIn:function(e){$rs.addClass(e,"zoom-tooltoggler")},zoomTogglerOut:function(e){$rs.removeClass(e,"zoom-tooltoggler")}},G=(h=39,b=m=30,{init:function(){if(rspkr.c.addEvent("onSelectedText",pe),rspkr.c.addEvent("onSelectedText",ge.bind(void 0,!0)),rspkr.c.addEvent("onDeselectedText",ge.bind(void 0,!1)),"complete"===document.readyState||"loaded"===document.readyState)for(var e=$rs.getReadingFrames(),t=0;t<e.length;t++)try{e[t].document.body.addEventListener("click",a)}catch(e){}else document.addEventListener("readystatechange",function(){if("complete"===document.readyState||"loaded"===document.readyState)for(var e=$rs.getReadingFrames(),t=0;t<e.length;t++)try{e[t].document.addEventListener("click",a)}catch(e){}});rspkr.log("[rspkr.Popup] Heartbeat!")},container:{popup:g,langpicker:void 0},lastSelectedText:void 0,newTextSelected:function(){return s},closePopup:a=function(e,t){g&&"none"!==g.style.display&&(!t&&(s||!g||e&&e.target&&function(e){var t=document;for(e&&(t=(t=e.ownerDocument)||(e.body?e:document));e&&e!==t.body;){if(/rspopup_translation/gi.test(e.className))return 1;e=e.parentElement}}(e.target))||($rs.css(g,"display","none"),ue()))},showPopup:pe}),J=function(e,t){var r=[];if((t=!t||!t.querySelectorAll?document:t).querySelectorAll)r=t.querySelectorAll(".rsbtn"+(e=e?",."+e:"")+":not(.rs_splitbutton-container)");else{e=e?"|"+e+"\\b":"";for(var n=t.getElementsByTagName("div"),o=new RegExp("rsbtn\\b"+e,"i"),s=0,i=n.length;s<i;s++)n[s]&&n[s].className&&o.test(n[s].className)&&r.push(n[s])}return r},Z=function(e){if("string"!=typeof e)return{};for(var t,r={},n=e.split(/[;&]/),o=0;o<n.length;o++)(t=n[o].split("="))&&2===t.length&&(r[decodeURIComponent(t[0])]=decodeURIComponent(t[1]).replace(/\+/g," "));return r},Q=function(e,t,r){var n=new RegExp("([\\?&|&amp;]"+e+"=)[^&$]*","gi");return n.test(r)?r.replace(n,"$1"+t):r+"&"+e+"="+t},ee=function(e,t){if(t){e=new RegExp(e+"=([^&]*)","i"),e=t.match(e);return e&&e.length?e[1]:null}},te=function(e,t){if(t){e=new RegExp(e+"=[^&]+","i"),e=t.match(e);return e&&e.length&&e.forEach(function(e){t=t.replace(e,"")}),t="&"===(t=t.replace("&&","&").replace("?&","?")).substr(-1)?t.substring(0,t.length-1):t}},re={isok:!0,executeCode:function(e){var t,r="jit"===e?D:C;if(this.isok=!0,!r.length)return!0;for(t in r)if(r.hasOwnProperty(t)&&"function"==typeof r[t])try{r[t].apply(he,[])}catch(e){this.isok=!1,rspkr.error("[rspkr.q] "+e)}},flush:function(e){}},ne={loadCss:function(n,o){function r(e){var t=document.createElement("link");t.id=n.id.replace(".","_"),t.type=n.type,t.rel="stylesheet",t.href=n.src+"?v="+o;var r=e.getElementById(n.id);r&&r.parentElement.removeChild(r),document.createStyleSheet&&document.documentMode&&document.documentMode<=8?document.createStyleSheet(t.href):(e.head||e.body).appendChild(t)}if(r(document),"complete"===document.readyState||"loaded"===document.readyState){if(he.rspkr&&he.rspkr.item&&rspkr.item("general.iframeReading")&&he.$rs)for(var e=$rs.getReadingFrames(),t=0;t<e.length;t++)try{r(e[t].document)}catch(e){}}else document.addEventListener("readystatechange",function(){if(("complete"===document.readyState||"loaded"===document.readyState)&&he.rspkr&&he.rspkr.item&&rspkr.item("general.iframeReading")&&he.$rs)for(var e=$rs.getReadingFrames(),t=0;t<e.length;t++)try{r(e[t].document)}catch(e){}})},load:function(e){var t,r,n,o="text/javascript",s="text/css";e.type!==o&&e.type!==s||(e.src=$.path+e.src,t=document.getElementsByTagName("head")[0],n=e.type===o?"script":"link",r=document.createElement(n),n=[l.major,l.minor,l.update,l.revision].join("."),"function"==typeof e.cb&&(void 0!==r.onreadystatechange?r.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||e.cb.apply(he,[e.id])}:r.onload=function(){e.cb.apply(he,[e.id])}),r.id=e.id.replace(".","_"),r.type=e.type,e.type===o?(r.src=e.src+"?v="+n,e.async&&(r.async=!0),t.appendChild(r)):e.type===s&&this.loadCss(e,n))},jsonpLoad:function(e){var t=document.createElement("script");t.id=e.id||"rsjsonploaded_"+oe(),t.src=e.src,t.async=!0,document.body.appendChild(t)}},oe=function(){return"readspeaker"+L++},se=0,ie={1:[],2:[],3:[],4:[],5:[],6:[]},ae=function(e,t){t=parseInt(t)||3;var r=le[t].lbl;console.groupCollapsed&&console.groupCollapsed(r);for(var n=0;n<e.length;n++)try{console[le[t].method]&&console[le[t].method](e[n])}catch(e){}console.groupCollapsed&&console.groupEnd()},le={1:{lbl:"Info",method:"log"},2:{lbl:"Warn",method:"warn"},3:{lbl:"Err",method:"error"},4:{lbl:"AS",method:"log"},5:{lbl:"SW",method:"log"}},ce=function(e,t){var r=N;if(ie[t=t||1].push(e),r&&"string"==typeof r&&-1<r.indexOf(","+t+",")){r=le[t].lbl;try{console[le[t].method]&&console[le[t].method](se+++". "+r+": "+e)}catch(e){}}};function de(e){if(!rspkr.st||"popupcloseoff"!==rspkr.st.get("popupclose")){var t=rspkr.st&&rspkr.st.get&&rspkr.st.get("popupclosetime");if("-1"===String(t)||!t&&"-1"===String(rspkr.item("general.popupCloseTime")))return!1;e=e||he,i||"function"!=typeof e.setTimeout||(t=rspkr.st&&rspkr.st.get("popupclosetime")||rspkr.item("general.popupCloseTime")||1e4,i=e.setTimeout(function(){a(void 0,!0)},t))}}function ue(e){e=e&&e.window?e:he,i&&(e.clearTimeout(i),i=null)}function pe(e,t){if(!rspkr.nofeatures()){var r=rspkr.features;if((r.popupplayback||r.dictionary||r.translation)&&!(rspkr.mobile()||rspkr.st&&"iconon"!==rspkr.st.get("hlicon"))&&(rspkr.st||"iconoff"!==rspkr.item("settings.hlicon")))if(rspkr.findHref()&&(rspkr.getRSBtns().length||rspkr.findExpContainer())){for(var n,o=document,s=he,i=e.originalEvent||e,a=["rslightbox_contentcontainer","rs_overlay","rsmask-top"],l=0;c=a[l];l++){var c=o.getElementById(c);if(c&&$rs.isVisible(c))return}i.srcElement.closest("."+rspkr.cls.skipalways)||i.srcElement.closest("."+rspkr.cls.secret)||(e=he.getSelection(),(t=t||e.toString()).length&&($rs.isContentEditable(e.anchorNode)||$rs.isContentEditable(e.focusNode)||t===rspkr.Popup.lastSelectedText&&$rs.isVisible(g)||(rspkr.Popup.lastSelectedText=t,g&&((t=g.ownerDocument).isSameNode(o)||(n=t.defaultView||t.parentWindow,ue(n),g.parentNode&&g.parentNode.removeChild(g),g=void 0,n.getSelection().empty())),g&&g.parentNode||((g=o.createElement("div")).className="rspopup",g.id="rsbtn_popup","default"!==B&&g.classList.add(B),rspkr.item("ui.logo.bw")&&g.classList.add("bw-logo"),n="",r.popupplayback&&(n+='<div class="rspopup_play rspopup_btn" role="button" tabindex="0" aria-label="%" data-rslang="title/arialabel:listen"><span class="rspopup_label" data-rslang="content:listen">%</span></div>'.replace(/%/g,rspkr.getPhrase("b",rspkr.uiLang()))),rspkr.notools()||(r.dictionary&&(n+='<div class="rspopup_dictionary rspopup_btn" role="button" tabindex="0" aria-label="%" data-rslang="title/arialabel:dictionary"><span class="rspopup_label" data-rslang="content:dictionary">%</span></div>'.replace(/%/g,rspkr.getPhrase("a",rspkr.uiLang()))),r.translation&&(n+='<div class="rspopup_translation rspopup_btn" role="button" tabindex="0" aria-label="%" data-rslang="title/arialabel:translation"><span class="rspopup_label" data-rslang="content:translation">%</span></div>'.replace(/%/g,rspkr.getPhrase("e",rspkr.uiLang()))),r.dictionary&&(n+='<button tabindex="-1" class="rsbtn_dictionary_focusforward" data-rsshortcut="dictionary" aria-hidden="true"><span class=""></span></button>'),r.translation&&(n+='<button tabindex="-1" class="rsbtn_translation_focusforward" data-rsshortcut="translation" aria-hidden="true"><span class=""></span></button>')),g.innerHTML=n,rspkr.notools()||(rspkr.with.explorer()?(r.dictionary&&g.querySelector(".rsbtn_dictionary_focusforward").setAttribute("style","position: absolute; top: -10000px;"),r.translation&&g.querySelector(".rsbtn_translation_focusforward").setAttribute("style","position: absolute; top: -10000px;")):(r.dictionary&&(g.querySelector(".rsbtn_dictionary_focusforward").style="position: absolute; top: -10000px;"),r.translation&&(g.querySelector(".rsbtn_translation_focusforward").style="position: absolute; top: -10000px;"))),o.body.appendChild(g),h=$rs.outerWidth(g),m=$rs.outerHeight(g),document.querySelectorAll(".rspopup_btn").forEach(function(e){$rs.regEvent(e,"mousedown",function(e){rspkr.preventDefault(e)})}),r.popupplayback&&$rs.regEvent(g.querySelector(".rspopup_play"),"mouseup",function(e){fe(e,1)}),rspkr.notools()||(r.dictionary&&$rs.regEvent(g.querySelector(".rspopup_dictionary"),"mouseup",function(e){fe(e,3)}),r.translation&&$rs.regEvent(g.querySelector(".rspopup_translation"),"mouseup",function(e){fe(e,2)}),r.dictionary&&$rs.regEvent(g.querySelector(".rsbtn_dictionary_focusforward"),"click",function(e){g.querySelector(".rspopup_dictionary").focus(),fe(e,3)}),r.translation&&$rs.regEvent(g.querySelector(".rsbtn_translation_focusforward"),"click",function(){var e=document.createEvent("MouseEvents");e.initEvent("mouseup",!0,!0),g.querySelector(".rspopup_translation").dispatchEvent(e),g.querySelector(".rspopup_translation .rs-contextmenu a").focus()})),document.querySelectorAll(".rspopup_btn").forEach(function(e){$rs.regEvent(e,"keydown",function(e){13!==e.originalEvent.which&&32!==e.originalEvent.which||(rspkr.preventDefault(e),(e=document.createEvent("MouseEvents")).initEvent("mouseup",!0,!0),this.dispatchEvent(e))})}),rspkr.Lang&&rspkr.Lang.updateUi(g),rspkr.Popup.container.popup=g),r=!(!rspkr.Dialog||!rspkr.Dialog.isOpen()),g.classList.toggle("dialog-popup",r),(rspkr.Dialog&&rspkr.Dialog.getDialog()||document.body).appendChild(g),rspkr.ui?rspkr.ui.utils.setZIndex(g,!0):g.style.zIndex=1e3,rspkr.Popup.container.langpicker&&rspkr.Popup.container.langpicker.close(),$rs.css(g,"display","block"),i=r?function(e){var t={},r=rspkr.Dialog.getDialog().getBoundingClientRect(),n=g.getBoundingClientRect();t.left=e.clientX||rspkr.ui.pointerX,t.top=e.clientY||rspkr.ui.pointerY;e=rspkr.ui.pointerY<=t.top;return t.left-=r.left,t.top-=r.top,t.left+n.width+10>r.width&&(t.left=r.width-n.width-10),e?t.top+=20:t.top-=50,t}(i):function(e,t){t=t||document;var r={},n=(rspkr.ui||he.ReadSpeaker.ds).pointerX,o=(rspkr.ui||he.ReadSpeaker.ds).pointerY,s=(e.target===t?t:t=e.target.ownerDocument).defaultView,i=e.clientX||e.pageX||n,n=e.clientY||e.pageY||o,a={x:0,y:0};if(s.rspkr)a.x=$rs.scrollLeft(document),a.y=$rs.scrollTop(document);else for(i=e.pageX,n=e.pageY;!s.rspkr;){var l=$rs.offset(s.frameElement,!1);a.x+=l.left-$rs.scrollLeft(s.document),a.y+=l.top-$rs.scrollTop(s.document),s=s.parent}return i+=a.x,o<(n+=a.y)||/OPR\//gi.test(navigator.userAgent)?n-$rs.scrollTop(t)+m>$rs.height(he)-(m+10)?r.top=n-(m+b):r.top=n+b:n-$rs.scrollTop(document)-(m+b)<10?r.top=n+b:r.top=n-(m+b/2),i-$rs.scrollLeft(t)<10?r.left=i+10:i-$rs.scrollLeft(t)>$rs.width(he)-(h+10)?r.left=$rs.width(he)+$rs.scrollLeft(t)-(h+10):r.left=i+0,r}(i,o),g.style.top=i.top+"px",g.style.left=i.left+"px",ue(s),de(s),$rs.regEvent(g,"mouseover",ue.bind(void 0,s)),$rs.regEvent(g,"mouseout",de.bind(void 0,s)),s=Array.prototype.slice.call(g.querySelectorAll(".rspopup_btn")),$rs.regEvent(s,"focus",ue),$rs.regEvent(s,"blur",de),!rspkr.with.firefox()&&!rspkr.with.safari()&&$rs.isVisible(g)&&$rs.isWithinViewport(g)&&((s=$rs.createElm("div",{attributes:{tabindex:"0",style:"position:absolute;width:0;height:0;outline:0;"}})).addEventListener("blur",function(){this.parentElement.removeChild(this)}),g.insertBefore(s,g.firstChild),s.focus()))))}else rspkr.error("[showPopup] No href. Aborting popup.")}}function fe(e,t){if(rspkr.preventDefault(e),rspkr.pl)rspkr.Popup.runPopup(e,g,t);else{if(rspkr.item("general.confirmPolicy")&&!confirm(rspkr.item("general.confirmPolicy")))return a(),0;rspkr.loadCore(),C.push(function(){rspkr.Popup.runPopup(e,g,t)})}}function ge(e){s=!!e||void 0}return Object.size=function(e){var t,r=0;for(t in e)e.hasOwnProperty(t)&&r++;return r},function(){var e;1===(e=(r=he.rsConf&&he.rsConf.params&&"string"==typeof he.rsConf.params?he.rsConf.params:(t=!(t=document.getElementById("rs_req_Init"))?(e=document.getElementsByTagName("script"))[e.length-1]:t).getAttribute("src")).split("?")).length&&e.push("pids=wr"),M=r.replace(/[^\/]*$/,""),N=function(){var t;if(/rsdebug=rsdebug/i.test(document.location.href))try{t=","+document.location.href.split("?").pop().match(/rsdebug=rsdebug([^$|&]*)/i).pop()+","}catch(e){t=",3,"}else t="";return t}();var t=Z(e[1]),r=Z(e[1]);if(B=($=t).skin||"default",T=t.pids.split(","),$.path=e[0].replace(/webReader\.js|ReadSpeaker\.js/i,""),$.mobile=!(!$.mobile||"1"!==$.mobile),$.forceAdapter=$.forceAdapter||!1,"wr30skin"===B&&($.forceAdapter="html5"),"0"!==r.mobile&&/ios|iphone|ipad|ipod|android/i.test(navigator.userAgent)&&(!$.mmax||he.innerWidth<($.mmax||768))&&($.mobile=!0),"0"!==r.mobile&&("MacIntel"===navigator.platform&&"ontouchend"in document||"iPad"===navigator.platform)&&($.mobile=!0),$.mobile?(H="-Mobile",K.push("rs_mobile"),v["Mobile-"+d().toLowerCase()]=["lib.Facade","Common","modmap","PlayerAPI","Lang","HL","HL.css","Common.Settings","ui","ui.AutoScroll","ui.Slider","ui.Tools","Mobile.Common","pub.Config"]):v.Core=["lib.Facade","Common","modmap","PlayerAPI","Lang","HL","HL.css","Common.Settings","ui","ui.AutoScroll","ui.Slider","Dialog","ui.DragDrop","ui.Tools","ui.Detach","ui.ControlPanel","ui.Accessibility","ui.LoadIndicator","pub.Config"],j=$.autoplay,z=he.ReadSpeakerJIT="0"!==$.jit,$.notools&&"1"===$.notools||$.nofeatures&&"1"===$.nofeatures||D.push(Y.toggler.add),$.noDefaultSkin&&"1"===$.noDefaultSkin||ne.load({id:"rsmod_Styles",type:"text/css",src:k+y+".Styles"+(z?"-Button":"")+".css",cb:null}),"default"!==B&&(D.push(f),ne.load({id:"rsskin_"+B+"_style",type:"text/css",src:"skins/"+B+"/"+B+".css",cb:null}),ne.load({id:"rsskin_"+B+"_js",type:"text/javascript",src:"skins/"+B+"/"+B+".js",cb:null,async:!0})),$.dload&&$.dload.length)for(var n,o=$.dload.split(","),s=0;n=o[s];s++){var i="customCss"===n;ne.load({id:"rsdloaded_"+oe(),type:i?"text/css":"text/javascript",src:y+"."+(i?"Custom.css":n+".js"),cb:null})}if($.revdload&&$.revdload.length)for(var a,l=$.revdload.split(","),c=0;a=l[c];c++)ne.load({id:"rsdloaded_"+oe(),type:"text/javascript",src:k+y+"."+a+".js",cb:null});K.length&&D.push(u),z&&"1"!==function(e){var t,r=e+"=";try{t=document.cookie.split(";")}catch(e){return}for(var n=0;n<t.length;n++){for(var o=t[n];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(r))return o.substring(r.length,o.length)}return}("_rspkrLoadCore")||/combined/i.test($.pids)||p()}(),new function(){this.uId="wR_script",this.meta={obj:l,version:[l.major,l.minor,l.update].join(".")+"_rev"+l.revision+"-"+l.prod},this.q=function(e){"function"==typeof e&&(I.onReady?e.apply(he,[]):C.push(e))},this.p=function(e){"function"==typeof e&&(q?e.apply(he,[]):D.push(e))},this.loadInit=function(){document.readyState&&"loading"===document.readyState?setTimeout(function(){rspkr.log("[rspkr.loadInit] Postponing myself for 100 ms, DOM is not ready yet."),rspkr.loadInit()},100):R||(R=!0,document.addEventListener&&document.removeEventListener("DOMContentLoaded",he.ReadSpeaker.init,!1),x=!0,he.ReadSpeaker.Common&&he.ReadSpeaker.Common.dispatchEvent("onDOMReady"),ce("[rspkr] DOM Ready!"),this.q(function(){rspkr.Common.data.setRegion(),rspkr.Common.data.setWrapiUrl(),Y.afterLoad()}))},this.init=function(){rspkr.pub.Config.init(),rspkr.disp.executeCode("jit"),rspkr.disp.flush("jit"),he.ReadSpeakerJIT||rspkr.loadInit(),rspkr.DeferSelection.init(),rspkr.addToggler(),rspkr.Keyboard.init();for(var e=rspkr.getRSBtns(),t=0;t<e.length;t++){rspkr.item("ui.logo.bw")&&e[t].classList.add("bw-logo"),rspkr.item("ui.logo.none")&&e[t].classList.add("no-logo");var r,n,o=e[t].querySelector(".rsbtn_play");o&&(o.setAttribute("role","button"),n="ReadSpeaker webReader: "+rspkr.getPhrase("c",rspkr.uiLang()),o.hasAttribute("aria-label")||o.hasAttribute("aria-describedby")||o.setAttribute("aria-label",n),o.hasAttribute("title")||o.setAttribute("title",n),o.addEventListener("keydown",function(e){32===e.which&&(this.click(),e.preventDefault())}),(r=rspkr.item("ui.zIndexPlayer"))&&1!==r&&(e[t].style.zIndex=r),(n=e[t].querySelector(".rsbtn_text"))&&n.setAttribute("aria-hidden",!0),o.setAttribute("data-rs-tooltip","."),o.setAttribute("data-rs-direction","u"),e[t].classList.add(rspkr.rsbtnClass()),o.setAttribute("aria-expanded",!1),o.setAttribute("aria-haspopup","menu"),o.removeAttribute("accesskey"),o.setAttribute("data-rsshortcut","play"),o.href&&(r=o.href.match(/lang=[^&]+/gi),n=o.href.match(/voice=[^&]+/gi),r&&o.setAttribute("data-rs-lang",r[0].split("=")[1]),n&&o.setAttribute("data-rs-voice",n[0].split("=")[1])),rspkr.notools()&&e[t].classList.add("no-menu"))}var s=rspkr.item("ui.zIndexCustom.selector");s&&"."!==s&&document.querySelectorAll(s).forEach(function(e){e.style.zIndex=rspkr.item("ui.zIndexCustom.value")}),rspkr.with.explorer()&&(document.body.className+=" rs-ie"),setTimeout(function(){rspkr.Lang&&document.querySelectorAll("[data-rslang-untranslated]").length&&rspkr.Lang.updateUi()},3e3),q=!0},this.createAudio=function(){if(he.rspkr.audio||!rspkr.mobile())return!1;if("html5"===d())this.createHTML5Audio();else{if("webAudio"!==d())return!1;this.createWebAudio()}return!0},this.createHTML5Audio=function(){return/safari/i.test(he.navigator.userAgent)&&rspkr.mobile()||(he.rspkr.audio=new Audio,he.rspkr.audio.muted=!0,he.rspkr.audio.load()),!0},this.createWebAudio=function(){he.rspkr.audio=new(he.AudioContext||he.webkitAudioContext),he.rspkr.audio.resume().then(function(){he.rspkr.audio.suspend().then(function(){})})},this.addToggler=Y.toggler.add,this.getLoadedMods=function(){return A},this.rsidCount=1e3,this.logcount=0,this.log=function(e,t){ce(e,t||1)},this.warn=function(e){ce(e,2)},this.error=function(e){ce(e,3)},this.showLog=function(e){!function(e){rspkr.log("[rspkr.printErrorLog]",1);for(var t=(e=e||"3").split(","),r=0;r<t.length;r++)ie.hasOwnProperty(t[r])&&ae(ie[t[r]],t[r])}(e||"1")},this.getID=function(){return oe()},this.getVersion=function(){return this.meta.version},this.skin=B,this.disp=re,this.displog=I,this.params=$,this.extractParams=Z,this.setParam=Q,this.getParam=ee,this.deleteParam=te,this.setDebugLevel=o,this.baseUrl=M,this.loadCore=p,this.audio=null,this.getRSBtns=J,this.findHref=e,this.findExpContainer=t,this.rsbtnClass=n,this.rsload=ne,this.rootNS=y,this.revPath=k,this.tools=Y,this.Popup=this.popup=G,this.requestBlocker=new function(){var t=!1,r="";this.isEnabled=function(){return t},this.blockRequests=function(e){t=!0,r=e||""},this.reset=function(){r="",t=!1},this.getReason=function(){return r}},this.notools=function(){return rspkr.nofeatures()||$.notools&&"1"===$.notools},this.nofeatures=function(){return $.nofeatures&&"1"===$.nofeatures},this.mobile=function(){return $.mobile&&!0===$.mobile},this.preventDefault=function(e){(e=e||he.event)&&((e=e.originalEvent?e.originalEvent:e).cancelBubble=!0,e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())},this.runtime={revert:{}}}}(),he.ReadSpeaker=he.rs=he.rspkr=e)}(window),ReadSpeaker.enums={mime:{tjs:"text/javascript",tcss:"text/css",thtml:"text/html"}},window.ReadSpeakerDefer||(window.ReadSpeakerDefer={deferred:null,clickhandler:function(e){if(!window.ReadSpeakerDefer.deferred&&rspkr.getRSBtns().length){var t=(e=e||window.event).target||e.srcElement;if((t=3===t.nodeType?t.parentNode:t)!==document&&window.ReadSpeakerDefer.isRSLink(t))return rspkr.preventDefault(e),(rspkr.pl||!rspkr.conf("general.confirmPolicy")||confirm(rspkr.conf("general.confirmPolicy")))&&(window.ReadSpeakerDefer.deferred=t,!rspkr.ui&&window.ReadSpeakerJIT?(window.rspkr.createAudio(),window.rspkr.loadCore()):rspkr.ui.processDeferred()),!1}},init:function(){this.addEvents()},isRSLink:function(e){return!e.closest(".rsbtn_tools, #rs-controlpanel, .rs-dialog-esque, #rsbtn_popup, #rs_enlargeHL_box")&&(!!this.isRSButton(e.parentNode)||!(!e.href||!/readspeaker\.(com|team)\/cgi-bin\/rsent/.test(e.href)))},isRSButton:function(e){return!(!e||e===document)&&(e.classList&&e.classList.contains("rsbtn")||e.id&&-1<e.id.indexOf("readspeaker_button")||this.isRSButton(e.parentNode))},addEvents:function(){window.ReadSpeakerDefer.initialized||(window.ReadSpeakerDefer.initialized=!0,document.addEventListener?document.addEventListener("click",this.clickhandler):document.attachEvent?document.attachEvent("onclick",this.clickhandler):document.onclick=this.clickhandler)}}),window.readpage=function(e,t,r){return rspkr.item("general.confirmPolicy")&&!confirm(rspkr.item("general.confirmPolicy"))||(window.ReadSpeakerDefer.deferred={href:e,target:t,options:r},window.ReadSpeakerJIT&&(window.rspkr.createAudio(),window.rspkr.loadCore())),!1},window.ReadSpeakerDefer.init(),ReadSpeaker.Util={addLeadingZero:function(e){return e<10?"0"+e:e.toString()},convertTime:function(e){e/=1e3;var t=parseInt(e%60),r=parseInt(e/60%60),e=parseInt(e/60/60%60);return this.addLeadingZero(e)+":"+this.addLeadingZero(r)+":"+this.addLeadingZero(t)},explodeTitle:function(e,t,r){e=$rs.createElm("div",{content:e.nodeName?e.outerHTML:e});$rs.isArray(r)||(r=r.split(","));for(var n,o=e.querySelectorAll(t),s=0;n=o[s];s++)if(n&&n.parentElement)for(var i=0;a=r[i];i++)if(n.hasAttribute(a)){var a=document.createTextNode(n.getAttribute(a));n.parentNode.replaceChild(a,n);break}return e.innerHTML},fitText:function(e,t){t=t||e.parentElement,e.style.transform=null;var r=e.getBoundingClientRect().width+20,t=t.getBoundingClientRect().width;t<r&&(e.style.transform="scale(%s)".replace("%s",t/r))},legacyPhrase:function(e){if(e)return e="ph_"===e.substring(0,3)?e.substr(3):e},randomString:function(){return"rs-"+(Number(new Date)*Math.random()).toString(36).replace(".","").substring(0,8)},xhtml:{detect:function(){var e=document.doctype;if(e&&(/xhtml/gi.test(e.systemId)||/xhtml/gi.test(e.publicId)))return!0;e=document.querySelector("html");return!(!e||!/xhtml/gi.test(e.getAttribute("xmlns")))},innerHTML:function(e){var t;"string"==typeof e?((t=document.implementation.createHTMLDocument()).body.innerHTML="<div>"+e+"</div>",e=t.body.firstElementChild):e.tagName&&(e=e.cloneNode(!0));var r=document.implementation.createDocument("http://www.w3.org/1999/xhtml","html",null),n=document.createElementNS("http://www.w3.org/1999/xhtml","body");r.documentElement.appendChild(n);for(var o=0,s=e.childNodes;o<s.length;o++){var i=s[o].cloneNode(!0);r.importNode(i),n.appendChild(i)}return n.innerHTML}}},"function"!=typeof Element.prototype.matches&&(Element.prototype.matches=Element.prototype.msMatchesSelector),"NodeList"in window&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var r=0;r<this.length;r++)e.call(t,this[r],r,this)}),rspkr.cls={content:"rs_content",nosync:"rs_no_sync",preserve:"rs_preserve",secret:"rs_do_not_process",skip:"rs_skip",skipalways:"rs_skip_always"},ReadSpeaker.phrases=["0a%D8%A7%D9%84%D9%82%D8%A7%D9%85%D9%88%D8%B3","0b%D8%A7%D8%B3%D8%AA%D9%85%D8%B9","0c%D8%A7%D9%84%D8%A5%D8%B3%D8%AA%D9%85%D8%A7%D8%B9%20%D9%85%D8%B9%20%D9%88%D9%8A%D8%A8%D8%B1%D9%8A%D8%AF%D8%B1","0d%D9%82%D8%A7%D8%A6%D9%85%D8%A9%20webReader","0e%D8%A7%D9%84%D8%AA%D8%B1%D8%AC%D9%85%D8%A9","1aDiccionari","1bEscoltar","1cEscoltar%20amb%20webReader","1dMen%C3%BA%20webReader","1eTraducci%C3%B3","2aOrdbog","2bAflyt","2cAflyt%20med%20webReader","2dwebReader%20menu","2eOvers%C3%A6t","3aW%C3%B6rterbuch","3bVorlesen","3cMit%20webReader%20vorlesen%20lassen","3dwebReader-Men%C3%BC","3e%C3%9Cbersetzung","4a@6a","4b@6b","4c@6c","4d@6d","4e@6e","5a@6a","5b@6b","5c@6c","5d@6d","5e@6e","6aDictionary","6bListen","6cListen%20with%20webReader","6dwebReader%20menu","6eTranslate","7a@9a","7b@9b","7c@9c","7d@9d","7e@9e","8a@9a","8b@9b","8c@9c","8d@9d","8e@9e","9aDiccionario","9bEscuchar","9cEscuchar%20con%20webReader","9dMen%C3%BA%20de%20webReader","9eTraducci%C3%B3n","10a@9a","10b@9b","10c@9c","10d@9d","10e@9e","11a@9a","11b@9b","11c@9c","11d@9d","11e@9e","12aHiztegia","12bEntzun","12cEntzun%20webReader-ekin","12dwebReader%20menua","12eItzulpena","13aSanakirja","13bKuuntele","13cKuuntele%20WebReaderill%C3%A4","13dwebReader-valikko","13eK%C3%A4%C3%A4nn%C3%B6s","14aOr%C3%B0ab%C3%B3k","14bLurta","14cLurta%20vi%C3%B0%20webReader","14dmeni%20webReader","14eUmseting","15a@17a","15b@17b","15c@17c","15d@17d","15e@17e","16a@17a","16b@17b","16c@17c","16d@17d","16e@17e","17aDictionnaire","17b%C3%89couter","17c%C3%89couter%20avec%20webReader","17dMenu%20webReader","17eTraduire","18aDicionario","18bEscoitar","18cEscoitar%20con%20webReader","18dmen%C3%BA%20webReader","18eTraduci%C3%B3n","19aOr%C3%B0ab%C3%B3k","19bHlusta","19cHlusta%20me%C3%B0%20webReader","19dwebReader%20valmynd","19e%C3%9E%C3%BD%C3%B0ing","20aDizionario","20bAscolta","20cAscolta%20con%20webReader","20dMenu%20webReader","20eTraduzione","21a%E8%BE%9E%E6%9B%B8","21b%E8%AA%AD%E3%81%BF%E4%B8%8A%E3%81%92%E3%82%8B","21cwebReader%E3%81%A7%E8%81%B4%E3%81%8F","21dwebReader%20%E3%83%A1%E3%83%8B%E3%83%A5%E3%83%BC","21e%E7%BF%BB%E8%A8%B3","22a%EC%82%AC%EC%A0%84","22b%EC%9D%BD%EA%B8%B0","22cwebReader%EB%A1%9C%20%EB%93%A3%EA%B8%B0","22dwebReader%20%EB%A9%94%EB%89%B4","22e%EB%B2%88%EC%97%AD","23aV%C4%81rdn%C4%ABca","23bKlaus%C4%ABties","23cKlaus%C4%ABties%20ar%20webReader","23dwebReader%20izv%C4%93lne","23eTulkojums","24a@25a","24b@25b","24c@25c","24d@25d","24e@25e","25aWoordenboek","25bLees voor","25cLuister met webReader","25dwebReader menu","25eVertalen","26aOrdbok","26bLytt","26cLytt%20med%20webReader","26dwebReader-menyen","26eOversettelse","27aS%C5%82ownik","27bPos%C5%82uchaj","27cPos%C5%82uchaj%20z%20webReaderem","27dMenu%20webReader","27eT%C5%82umaczenie","28a@29a","28b@29b","28c@29c","28d@29d","28e@29e","29aDicion%C3%A1rio","29bOuvir","29cOuvir%20com%20o%20webReader","29dMenu%20webReader","29eTraduzir","30a@31a","30b@31b","30c@31c","30d@31d","30e@31e","31aOrdbok","31bLyssna","31cLyssna%20med%20webReader","31dwebReaders%20meny","31e%C3%96vers%C3%A4ttning","32a%E8%AF%8D%E5%85%B8","32b%E6%9C%97%E8%AF%BB","32c%E4%BD%BF%E7%94%A8%20webReader%20%E6%9C%97%E8%AF%BB","32dwebReader%20menu","32e%E7%BF%BB%E8%AF%91","33a%E5%AD%97%E5%85%B8","33b%E8%AA%9E%E9%9F%B3%E7%80%8F%E8%A6%BD","33c%E9%80%8F%E9%81%8E%20webReader%20%E8%AA%9E%E9%9F%B3%E7%80%8F%E8%A6%BD","33dwebReader%20menu","33e%E7%BF%BB%E8%AD%AF","34a@6a","34b@6b","34c@6c","34d@6d","34e@6e","35a%D0%A1%D0%BB%D0%BE%D0%B2%D0%BD%D0%B8%D0%BA","35b%D0%A1%D0%BB%D1%83%D1%85%D0%B0%D1%82%D0%B8","35c%D0%A1%D0%BB%D1%83%D1%85%D0%B0%D1%82%D0%B8%20%D0%B7%D0%B0%20%D0%B4%D0%BE%D0%BF%D0%BE%D0%BC%D0%BE%D0%B3%D0%BE%D1%8E%20webReader","35d%D0%9C%D0%B5%D0%BD%D1%8E%20webReader","35e%D0%9F%D0%B5%D1%80%D0%B5%D0%BA%D0%BB%D0%B0%D0%B4"],ReadSpeaker.uiLang=function(){return rspkr.Lang?(delete rspkr.preloadUiLang,rspkr.Lang.getUiLang()):rspkr.preloadUiLang||(rspkr.preloadUiLang=rspkr.item("general.uiLang")||rspkr.getParam("uilang",rspkr.findHref())||rspkr.getParam("lang",rspkr.findHref())||rspkr.item("general.fallbacklang")||"en_us",rspkr.preloadUiLang)},ReadSpeaker.mapLang=function(e){var t="ar_ar,ca_es,da_dk,de_de,en_au,en_uk,en_us,es_419,es_co,es_es,es_mx,es_us,eu_es,fi_fi,fo_fo,fr_be,fr_ca,fr_fr,gl_es,is_is,it_it,ja_jp,ko_kr,lv_lv,nl_be,nl_nl,no_nb,pl_pl,pt_br,pt_pt,sv_fi,sv_se,zh_cn,zh_tw,en_sc,uk_ua".split(",");if(isNaN(e)){e=e.replace("-","_").toLowerCase();for(var r,n=0;r=t[n];n++)if(e===r||2===e.length&&r.substring(0,2)===e)return n;return this.mapLang(rspkr.item("general.fallbacklang")||"en_us")}return t[e]},ReadSpeaker.mapPhrase=function(e){for(var t,r=["dictionary","listen","listenwebreader","menu","translation"],n=["a","b","c","d","e"],o=1<e.length?r:n,s=0;t=o[s];s++)if(t===e)return(1<e.length?n:r)[s]},ReadSpeaker.getPhrase=function(e,t,r){if(e){if(ReadSpeaker.Lang&&!r)return isNaN(t)||(t=this.mapLang(t)),1===e.length&&"*"!==e&&(e=this.mapPhrase(e)),ReadSpeaker.Lang.getPhrase(e);t=t||rspkr.item("general.fallbacklang")||"en_us";for(var n,o=(t=isNaN(t)?this.mapLang(t):t)+(e=1<e.length?this.mapPhrase(e):e),s=0;n=rspkr.phrases[s];s++){if(n.substring(0,o.length+1)===o+"@"){var i=n.substring(o.length+1),a=String(parseInt(i)),i=i.substring(a.length);return rspkr.getPhrase(i,a,r)}if(n.substring(0,o.length)===o)return decodeURIComponent(n.substring(o.length))}}else;},ReadSpeaker.pub={Config:function(){function r(){function e(e){return e="scrollcontrols"===(e="simpleview"===(e="lookup"===e?"dictionary":e)?"textmode":e)?"controlpanel":e}var t=rspkr.params&&"1"===rspkr.params.notools;rspkr.features={banner:!0,clicklisten:!0,controlpanel:!0,controlpanel_pause:!0,controlpanel_skip:!0,controlpanel_scroll:!0,controlpanel_close:!0,detachment:!1,dictionary:!t,dictionary_toolbar:!1,download:!0,download_player:!1,enlarge:!0,help:!0,loaderplayer:!0,loaderscreen:!0,pagemask:!0,popupplayback:!0,progressbar:!0,seekbar:!1,settings:!0,skipbuttons:!0,speedbutton:!0,textmode:!0,tooltips:!0,translation:!t,translation_toolbar:!1,voicesettings:!1,volumebutton:!0};for(var r=[],n=rspkr.params.disable?rspkr.params.disable.split(","):[],o=0;o<n.length;o++){var s=e(n[o]);rspkr.features[s]=!1,r.push(s)}if(rspkr.params.enable)for(var i=rspkr.params.enable.split(","),a=0;a<i.length;a++){var l=e(i[a]);rspkr.features[l]=!0,r.push(l)}var c,d,u=window.rsConf&&window.rsConf.ui&&window.rsConf.ui.tools?window.rsConf.ui.tools:{};for(c in u)u.hasOwnProperty(c)&&(d=e(c),rspkr.features[d]=u[c],r.push(d));rspkr.features.dictionary&&(rspkr.features.dictionary_toolbar=!1),rspkr.features.translation&&(rspkr.features.translation_toolbar=!1),rspkr.features.download&&(rspkr.features.download_player=!1),!1===p("ui.displayDownload")&&(rspkr.features.download=!1)&&(rspkr.features.download_player=!1),!0===p("ui.enableDetachment")&&(rspkr.features.detachment=!0),!0===p("ui.disableDetachment")&&(rspkr.features.detachment=!1),rspkr.features.overriden=r}function e(){rspkr.pub&&rspkr.pub.Config&&(rspkr.pub.c=rspkr.pub.Config),rspkr.pub.c&&(rspkr.cfg=rspkr.pub.c),rspkr.conf=rspkr.item=rspkr.cfg.item,"object"==typeof window.rsConf&&f(c(window.rsConf)),rspkr.params.mode&&rspkr.item("mode."+rspkr.params.mode)&&f(rspkr.item("mode."+rspkr.params.mode)),!0===p("general.iframeReading")&&$rs.iframesPresent(document)&&n("general.usePost",!0),r();var e,t=rspkr.item("ui.tools");for(e in t)t.hasOwnProperty(e)&&-1===rspkr.features.overriden.indexOf(e)&&(rspkr.features[e]=t[e])}var t=!1,a={},l={extraMods:{},mode:{},general:{chunkLimit:1000,cookieDomain:null,cookieLifetime:360000000,cookieName:"ReadSpeakerSettings",cookiePath:"/",customTransLangs:".",defaultSpeedValue:100,directDownload:false,disableJSON:false,disableTextNodeHL:false,domain:"readspeaker.com",enableMathReading:false,enableSkipAlways:false,fontSizes:{min:.8,max:2.4,increment:.2},iframeReading:false,inclAdult:false,labels:{ignoreSelector:" "},nativeLanguages:false,noCookie:false,popupCloseTime:10000,popupHref:"",preserveElements:".rs_preserve",protocol:"https:",proxyVersion:"2",readidOrder:false,readingLangs:{"ar_ar":[{"voice":"Amir","phrase":"ph_ar_ar","customlang":"ar_ar","customgender":"male","lang":"ar_ar","gender":"male","attributes":[]}],"en_au":[{"voice":"Jack","phrase":"ph_en_au","customlang":"en_au","customgender":"male","lang":"en_au","gender":"male","attributes":[]}],"el_gr":[{"voice":"Nikos","phrase":"ph_el_gr","customlang":"el_gr","customgender":"male","lang":"el_gr","gender":"male","attributes":[]}],"hi_in":[{"voice":"Diya","phrase":"ph_hi_in","customlang":"hi_in","customgender":"female","lang":"hi_in","gender":"female","attributes":[]}],"zh_hk":[{"voice":"Kayan","phrase":"ph_zh_hk","customlang":"zh_hk","customgender":"female","lang":"zh_hk","gender":"female","attributes":[]}],"it_it":[{"voice":"Elisa","phrase":"ph_it_it","customlang":"it_it","customgender":"female","lang":"it_it","gender":"female","attributes":[]}],"ko_kr":[{"voice":"Jihun","phrase":"ph_ko_kr","customlang":"ko_kr","customgender":"male","lang":"ko_kr","gender":"male","attributes":[]}],"zh_cn":[{"voice":"Hui","phrase":"ph_zh_cn","customlang":"zh_cn","customgender":"female","lang":"zh_cn","gender":"female","attributes":[]}],"es_es":[{"voice":"Pilar","phrase":"ph_es_es","customlang":"es_es","customgender":"female","lang":"es_es","gender":"female","attributes":[]}]},region:"eu",rsent:"rsent",saveLangVoice:false,searchLang:true,sentOnlyLang:["ja_jp","zh_cn"],shadowDomSelector:" ",skipHiddenContent:false,subdomain:"app",syncContainer:"default",transLangs:{ar_ar:"trans_ar_ar",da_dk:"trans_da_dk",de_de:"trans_de_de",el_gr:"trans_el_gr",en:"trans_en",es_es:"trans_es_es",fi_fi:"trans_fi_fi",fr_fr:"trans_fr_fr",hu_hu:"trans_hu_hu",id_id:"trans_id_id",it_it:"trans_it_it",ja_jp:"trans_ja_jp",ko_kr:"trans_ko_kr",lv_lv:"trans_lv_lv",nl_nl:"trans_nl_nl",no_nb:"trans_no_nb",pl_pl:"trans_pl_pl",pt_br:"trans_pt_br",pt_pt:"trans_pt_pt",ro_ro:"trans_ro_ro",ru_ru:"trans_ru_ru",sv_se:"trans_sv_se",th_th:"trans_th_th",tr_tr:"trans_tr_tr",uk_ua:"trans_uk_ua",vi_vn:"trans_vi_vn",zh_cn:"trans_zh_cn"},translatedDisclaimer:false,translationCleanup:"true",translationLimit:5e3,translationProvider:"google",usePost:false,voiceTemplate:"{{flag}}{{lang}} - {{voice}}{{ - attr}}",voiceAttributes:"slow"},settings:{clicklisten:"off",enlarge:"enlargeoff",enlargebghl:"bghlon",fontface:"sansserif",fr:"froff",hl:"wordsent",hlicon:"iconon",hlscroll:"scrollon",hlsent:"#beffd6",hlspeed:100,hltext:"#000000",hltoggle:"hlon",hlword:"#a4cbff",kb:{clicklisten:"shift+ctrl+alt+KeyH",controlpanel:"shift+ctrl+alt+KeyC",dictionary:"shift+ctrl+alt+KeyW",download:"shift+ctrl+alt+KeyD",enlarge:"shift+ctrl+alt+KeyE",fontsizeminus:"shift+ctrl+alt+Slash",fontsizeplus:"shift+ctrl+alt+Minus",formreading:"shift+ctrl+alt+KeyF",help:"shift+ctrl+alt+KeyI",menu:"shift+ctrl+alt+Digit1",pagemask:"shift+ctrl+alt+KeyM",pause:"shift+ctrl+alt+KeyP",play:"shift+ctrl+alt+KeyL",playerfocus:"shift+ctrl+alt+KeyK",settings:"shift+ctrl+alt+KeyS",stop:"shift+ctrl+alt+KeyX",textmode:"shift+ctrl+alt+KeyV",translation:"shift+ctrl+alt+KeyT",readingvoice:"shift+ctrl+alt+KeyR",detachfocus:"shift+ctrl+alt+KeyU"},langvoice:"",lbfontsize:"1.0",popupclose:"popupcloseon",popupclosetime:10000,shortcuts:"on",textspacing:"0",textstyle:"blackwhite"},fontmap:{serif:'"Times New Roman", Times, serif',sansserif:"Arial, Helvetica, sans-serif",opensans:"Arial, Helvetica, sans-serif",cursive:'"Comic Sans", "Comic Sans MS", cursive',monospace:'"Courier New", Courier, monospace',dyslexic:'"Open Dyslexic"'},textstyles:{blackyellow:"#000000,#ffffcc",blackwhite:"#000000,#ffffff",blackblue:"#000000,#a4cbff",blackpink:"#000000,#fbd0e4",redyellow:"#ff0000,#ffffcc",redwhite:"#ff0000,#ffffff",redblue:"#ff0000,#a4cbff",blueyellow:"#0000ff,#ffffcc",bluewhite:"#0000ff,#ffffff",bluepink:"#0000ff,#fbd0e4",yellowblack:"#ffff00,#000000",blueblack:"#a4cbff,#000000"},textspacings:{s0:{letterspacing:"0em",wordspacing:"0em",lineheight:"1.44"},s1:{letterspacing:"0.06em",wordspacing:"0.08em",lineheight:"1.6"},s2:{letterspacing:"0.12em",wordspacing:"0.16em",lineheight:"1.8"},s3:{letterspacing:"0.18em",wordspacing:"0.24em",lineheight:"2"},s4:{letterspacing:"0.24em",wordspacing:"0.32em",lineheight:"2.15"}},ui:{autoscrollOffset:0,clickListenExclude:".rs_clicklistenexclude",disableShortcutSelector:".",preventLightboxResize:false,logo:{bw:false,none:false},toolbar:{horizontal:false,inverted:false},tools:{banner:true,clicklisten:true,controlpanel:true,detachment:false,dictionary:true,download:true,enlarge:true,help:true,pagemask:true,popupplayback:true,progressbar:true,settings:true,skipbuttons:true,speedbutton:true,textmode:true,translation:true,voicesettings:false,volumebutton:true},tooltoggler:{big:true},zIndexCustom:{selector:".",value:1},zIndexPlayer:1,zIndexToolPanel:1},cb:{ui:{open:function(){rspkr.log("conf.cb.ui.open: "+this)},play:function(){rspkr.log("conf.cb.ui.play")},pause:function(){rspkr.log("conf.cb.ui.pause")},stop:function(){rspkr.log("conf.cb.ui.stop")},beforeclose:function(){rspkr.log("conf.cb.ui.beforeclose")},close:function(){rspkr.log("conf.cb.ui.close")},settingsopened:function(){rspkr.log(this)},volumechanged:function(e){rspkr.log("conf.cb.ui.volumechanged: "+e+"%")},timeupdated:function(e,t){rspkr.log("conf.cb.ui.timeupdated: "+e+" | "+t)},progresschanged:function(e){0<e&&e%10==0&&rspkr.log("conf.cb.ui.progresschanged: "+e+"%")}},chunking:{pause:void 0}},mobile:{ignoreMute:true}},c=function(e){var t,r=JSON.parse(JSON.stringify(e));for(t in e)e.hasOwnProperty(t)&&("object"==typeof e[t]&&0<Object.size(e[t])&&!$rs.isArray(e[t])?r[t]=c(e[t]):"function"==typeof e[t]&&(r[t]=e[t]));return r},p=function(e,t){var r,n=[];if("."!==e&&(n=e.split(".")),"object"==typeof(r=void 0===(r=d(e,a))?d(e,l):r)&&0<Object.size(r)&&!$rs.isArray(r)){e=u(l,n,0);if(e){e=c(e);return f(r,e),e}return r}if("function"!=typeof r||t)return r;t=c(l);f(a,t);var o=t;if(n.length){n.splice(n.length-1,1);for(var s=0,i=n.length;s<i&&o[n[s]];s++)o=o[n[s]];t=o}return r.apply(t)},n=function(e,t){e=e.split(".");return u(a,e,0,t)},d=function(e,t){var r=[];return"."!==e&&(r=e.split(".")),u(t,r,0)},u=function(e,t,r,n){if(0===t.length)return e;if(void 0!==e[t[r]])return r<t.length-1?u(e[t[r]],t,r+1,n):void 0===n?e[t[r]]:e[t[r]]=n;if(void 0!==n){var o,s;if(r<t.length-1)for(o=r,s=t.length;o<s-1;o++)e[t[o]]={},e=e[t[o]];else o=r;return e[t[o]]=n}},f=function(e,t){for(var r in t=t||a,e)e.hasOwnProperty(r)&&(void 0!==t[r]&&!$rs.isArray(t[r])&&"object"==typeof e[r]&&0<Object.size(e[r])&&!$rs.isArray(e[r])?!0===e[r].replace_obj?(delete e[r].replace_obj,t[r]=e[r]):f(e[r],t[r]):t[r]=e[r])};return{init:function(){return!t&&(e(),t=!0,rspkr.log("[rspkr.cfg] Initialized!"),!0)},item:function(e,t,r){return void 0===t?p(e,r):n(e,t)},default:function(e,t){return void 0===t?d(e,l):function(e,t){e=e.split(".");return u(l,e,0,t)}(e,t)},customerDefault:function(e){for(var t=e.split("."),r=window.rsConf;r&&t.length&&(r=r[t.shift()]);)if(!t.length)return r;return rspkr.cfg.default(e)},getSettingsConf:function(){return rspkr.st?rspkr.st.getSettingsConf():{}},c:l,mergeObj:f,mergeDefault:function(e){f(e,l)},setup:e}}()},window.ReadSpeaker.API=window.ReadSpeaker.api={callback:{enums:{UI:{BEFORECLOSE:"cb.ui.beforeclose",CLOSE:"cb.ui.close",OPEN:"cb.ui.open",PAUSE:"cb.ui.pause",PLAY:"cb.ui.play",PROGRESSCHANGED:"cb.ui.progresschanged",SETTINGSOPENED:"cb.ui.settingsopened",STOP:"cb.ui.stop",TIMEUPDATED:"cb.ui.timeupdated",VOLUMECHANGED:"cb.ui.volumechanged",DIALOG:{BEFOREOPEN:"cb.ui.dialog.beforeopen",OPEN:"cb.ui.dialog.open",CLOSE:"cb.ui.dialog.close"}},AUDIO:{DOWNLOAD:"cb.audio.download",ENDED:"cb.audio.ended",LOADED:"cb.audio.loaded",LOADERROR:"cb.audio.loaderror",NOSOUND:"cb.audio.nosound"}},execute:function(e,t,r){if(!e)throw"[rspkr.API.callback.execute] No callback name provided.";(r=r||[])&&!$rs.isArray(r)&&(r=[r]),"function"==typeof rspkr.item(e,void 0,!0)&&rspkr.item(e,void 0,!0).apply(t,r)}},tools:{Dictionary:{dictionary:function(e,t){if(!rspkr.ui)return rspkr.loadCore(),void rspkr.q(function(){rspkr.API.tools.dictionary(e,t)});rspkr.ui.Tools.Dictionary.dictionary(e,t)},supportedLanguages:function(){return["ar_ar","da_dk","de_de","en","ca_es","es","eu_es","gl_es","fi_fi","fr_fr","is_is","it_it","ja_jp","ko_kr","lv_lv","nl_nl","no_nb","pt","sv_se","zh_cn"].sort()}},Translation:{translate:function(e){if(!rspkr.ui)return rspkr.loadCore(),void rspkr.q(function(){rspkr.API.tools.translate(e)});rspkr.ui.Tools.Translation.translate(e)},supportedLanguages:function(){return Object.keys(rspkr.item("general.transLangs")).sort()}}}},rspkr.lib||(rspkr.lib={}),rspkr.lib.Facade=function(t){var a={store:[],push:function(e,t,r){return this.store[e]||(this.store[e]=[]),this.store[e][t]||(this.store[e][t]=[]),this.store[e][t].push(r),this.store.length},pop:function(e,t,r){var n;if(this.store[e]&&this.store[e][t]){if(n=this.store[e][t],!r)return this.store[e][t].splice(0,this.store[e][t].length),0;for(var o=n.length-1;-1<o;o--)n[o]&&n[o].toString()===r.toString()&&this.store[e][t].splice(o,1);return this.store[e][t].length}return 0},dispatch:function(e,t){var r=$rs.convertEvent(e,t);if(rsid=$rs.getAttr(r.target,"data-rsevent-id"),rsid){for(var n=!0,o=a.store[rsid][r.type],s=0,i=o.length;s<i;s++)"function"==typeof o[s]&&(o[s].apply(r.target,[r])||(n=!1));return n}}};return{eq:a,adapterInit:function(e){t.$rs=e}}}(window),ReadSpeaker.lib.Facade.RSEvent=function(){},ReadSpeaker.lib||(ReadSpeaker.lib={}),ReadSpeaker.lib.RSLib=function(){var t=function(){return/^-ms-/},r=function(){return/-([\da-z])/gi},o={_formatRet:function(e){return(e="[object NodeList]"===Object.prototype.toString.call(e)?Array.prototype.slice.call(e):e).length?1===e.length?(e[0].length&&"object"==typeof e[0]&&!e[0].tagName?e[0]:e)[0]:e:[]},get:function(t,e){if(t===document){var r=[document];return rspkr.shadowDOM&&rspkr.shadowDOM.active()&&rspkr.shadowDOM.getShadows().forEach(function(e){r.push(e.shadowRoot)}),this._formatRet(r)}if(!t||"#"===t)return[];if("object"==typeof t)return t;if((e||document).getElementById(t))return(e||document).getElementById(t);(t.match(/(#[0-9][^\s:,]*)/g)||[]).forEach(function(e){t=t.replace(e,'[id="'+e.replace("#","")+'"]')}),(t.match(/(\.[0-9][^\s:,]*)/g)||[]).forEach(function(e){t=t.replace(e,'[class="'+e.substr(1)+'"]')});var n=Array.prototype.slice.call((e||document).querySelectorAll(t));return rspkr.shadowDOM&&rspkr.shadowDOM.active()&&rspkr.shadowDOM.getShadows().forEach(function(e){n=n.concat(Array.prototype.slice.call(e.shadowRoot.querySelectorAll(t)))}),this._formatRet(n)},arr:function(e,t){t=this.get(e,t);return this.isArray(t)?t:[t]},getReadingFrames:function(e){var t=(e=e||window)?[e]:[];return rspkr.cfg&&!rspkr.cfg.item("general.iframeReading")||!rspkr.cfg&&window.rsConf&&window.rsConf.general&&!window.rsConf.general.iframeReading?t:o.getFrames(e)},getFrames:function(e){var t=e?[e]:[],r=[];e=e||window;try{r=$rs.findIn(e.document,"iframe, frame")}catch(e){rspkr.log("Error accessing document "+e,"3")}for(var r=$rs.isArray(r)?r:[r],n=0;n<r.length;n++)try{r[n].contentWindow.location.href&&(t=t.concat(o.getFrames(r[n].contentWindow)))}catch(e){rspkr.log("Error accessing document "+e,"3")}return t},iframesPresent:function(e){return!!(e||document).querySelector("iframe")},findIn:function(e,t){if(!e||this.isArray(e)&&!e.length)return[];"string"==typeof(e=this.isArray(e)?e[0]:e)&&(e=this.get(e));var r=Array.prototype.slice.call(e.querySelectorAll(t));return rspkr.shadowDOM&&rspkr.shadowDOM.active()&&rspkr.shadowDOM.getShadows(e).forEach(function(e){r=r.concat(Array.prototype.slice.call(e.shadowRoot.querySelectorAll(t)))}),this._formatRet(r)},closest:function(e,t){if(e){if((e="string"==typeof e?this.get(e):e).matches&&e.matches(t))return e;for(;e.parentElement;){if(e.parentElement.matches(t))return e.parentElement;e=e.parentElement}}},isChildOfParent:function(e,t){if(e&&t){if("string"==typeof t&&!(t=document.querySelector(t)))return!1;var r=e.ownerDocument;if(!r){if(/document$/i.test(e.nodeName))return!1;r=document}for(;e&&e!==r.parentNode;){if(e.isSameNode(t))return!0;e=e.parentNode}}return!1},getAttr:function(e,t){return"string"==typeof e&&(e=this.get(e)),"style"===t?e.style.cssText.toLowerCase()||void 0:e.getAttribute?e.getAttribute(t):e[t]||void 0},setAttr:function(e,t,r){"string"==typeof e&&(e=this.get(e));for(var n=0,o=(e=!this.isArray(e)?[e]:e).length;n<o;n++)"style"===t?e[n].style.cssText=r:e[n].setAttribute?e[n].setAttribute(t,r):e[n][t]=r;return r},regEvent:function(e,t,r){var n,o,s,i,a=t.split(" ");"string"==typeof e&&(e=this.get(e));for(var l=0,c=(e=!this.isArray(e)?[e]:e).length;l<c;l++)for(s=0,i=a.length;s<i;s++)t=a[s],o=e[l],n=this.getAttr(o,"data-rsevent-id")||"rs_"+Math.round(1e6*Math.random()),this.setAttr(o,"data-rsevent-id",n),d.push(n,t,r),d.store[n]&&d.store[n][t]&&1<d.store[n][t].length||e[l].addEventListener&&e[l].addEventListener(t,d.dispatch,!1)},unregEvent:function(e,t,r){if(e){var n,o,s,i=t.split(" ");"string"==typeof e&&(e=this.get(e));for(var a=0,l=(e=!this.isArray(e)?[e]:e).length;a<l;a++)for(o=0,s=i.length;o<s;o++)if(t=i[o],n=e[a],n=this.getAttr(n,"data-rsevent-id"),r)d.pop(n,t,r)||e[a].removeEventListener(t,d.dispatch,!1);else if(e[a].removeEventListener(t,d.dispatch,!1),n&&t&&d.store[n]){d.store[n][t]=void 0;try{delete d.store[n][t]}catch(e){}}}},width:function(e){return"string"==typeof e&&(e=this.get(e)),s(e,"width")},height:function(e){return"string"==typeof e&&(e=this.get(e)),s(e,"height")},outerWidth:function(e,t){if((e="string"==typeof e?this.get(e):e)&&e.style){t=t?parseFloat(p(e,"margin-left"))+parseFloat(p(e,"margin-right")):0;return s(e,"width")+t}return null},outerHeight:function(e,t){if((e="string"==typeof e?this.get(e):e)&&e.style){t=t?parseFloat(p(e,"margin-top"))+parseFloat(p(e,"margin-bottom")):0;return s(e,"height")+t}return null},offsetParent:function(e){for(var t=/absolute|relative|fixed/i,r=e="string"==typeof e?this.get(e):e;!(r===document.body||(r=r.parentNode).style&&t.test(p(r,"position"))););return r||document.body},offset:function(e){var t=(e="string"==typeof e?this.get(e):e).ownerDocument,r=t.body,n=t.defaultView||window,o=t.documentElement,s=t.createElement("div");if(e===t.body){var i=r.offsetTop,a=r.offsetLeft;return{top:i+=parseFloat(p(r,"marginTop"))||0,left:a+=parseFloat(p(r,"marginLeft"))||0}}s.style.paddingLeft=s.style.width="1px",r.appendChild(s);t=2===s.offsetWidth;r.removeChild(s);s=e.getBoundingClientRect(),i=o.clientTop||r.clientTop||0,a=o.clientLeft||r.clientLeft||0,e=n.pageYOffset||t&&o.scrollTop||r.scrollTop,r=n.pageXOffset||t&&o.scrollLeft||r.scrollLeft;return{top:s.top+e-i,left:s.left+r-a}},scrollLeft:function(e,t){return"string"==typeof e&&(e=this.get(e)),i("scrollLeft","pageXOffset",e,t)},scrollTop:function(e,t){return"string"==typeof e&&(e=this.get(e)),i("scrollTop","pageYOffset",e,t)},addClass:function(e,t){var r;"string"==typeof e&&(e=this.arr(e)),this.isArray(e)||(e=[e]),"."===t.charAt(0)&&(t=t.substr(1));for(var n=0,o=e.length;n<o;n++)e[n]&&!new RegExp("\\b"+t+"( |$)").test(e[n].className)&&(r=(e[n].className+" "+t).trim().replace(/ {2,}/g," ").split(" "),e[n].className=r.join(" "))},removeClass:function(e,t){if(e){"string"==typeof e&&(e=this.get(e));for(var r=0,n=(e=!this.isArray(e)?[e]:e).length;r<n;r++){for(var o=t.trim().replace(/ {2,}/g," "),s=e[r].className.trim(),i=0,a=(o=!this.isArray(o)?o.split(" "):o).length;i<a;i++)"."===o[i].charAt(0)&&(o[i]=o[i].substr(1)),s=s.replace(new RegExp("\\b"+o[i]+"\\b","gi"),"");e[r].className=s.trim().replace(/ {2,}/g," ")}}},hasClass:function(e,t){if(!(e="string"==typeof e?this.get(e):e)||this.isArray(e)&&!e.length||!e.hasAttribute||!e.hasAttribute("class"))return!1;for(var r=e.className.split(" "),n=0,o=r.length;n<o;n++)if("."===r[n].charAt(0)&&(r[n]=r[n].substr(1)),r[n]===t)return!0;return!1},css:function(e,t,r){if(e&&(!this.isArray(e)||e.length)){if("string"==typeof e&&(e=this.arr(e)),this.isArray(e)||(e=[e]),"object"!=typeof t&&void 0===r)return p(e[0],u(t));var n={};if("string"==typeof t?n[t]=r:n=t,rspkr.Util.xhtml.detect())for(var o=0;o<e.length;o++){var s="";if(e[o].hasAttribute("style"))for(var i,a=e[o].getAttribute("style").split(";"),l=0;i=a[l];l++){var c=i.split(":");n.hasOwnProperty(c[0])||(s+=i+";")}for(d in n)n.hasOwnProperty(d)&&n[d]&&(s+=d+":"+n[d]+";");e[o].removeAttribute("style"),s.length&&e[o].setAttribute("style",s)}else for(o=0;o<e.length;o++){for(var d in n)n.hasOwnProperty(d)&&(e[o].style[u(d)]=n[d]);e[o].hasAttribute("style")&&!e[o].getAttribute("style").length&&e[o].removeAttribute("style")}}},isVisible:function(e){if(!e)return!1;for(;e!==document.body&&(e.nodeType===Node.ELEMENT_NODE||e.nodeType===Node.TEXT_NODE);){if("none"===this.css(e,"display"))return!1;if("hidden"===this.css(e,"visibility"))return!1;if(!(e=e.parentNode))return!1}return!0},isWithinViewport:function(e){e=e.getBoundingClientRect();return 0<=e.top&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&0<=e.left&&e.right<=(window.innerWidth||document.documentElement.clientWidth)},isContentEditable:function(e){if(!e)return!1;e=this.closest(e,"[contenteditable]");return!(!e||""!==e.contentEditable&&"true"!==e.contentEditable)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},arraySearch:function(e,t){for(var r=0;r<t.length;r++)if(-1!==e.indexOf(t[r]))return!0;return!1},rsid:function(e){var t;return this.getAttr(e,"data-rsid")||(t=ReadSpeaker.rsidCount++,this.setAttr(e,"data-rsid",t)),this.getAttr(e,"data-rsid")},convertEvent:function(e,t){e=e||window.event;var r=new ReadSpeaker.lib.Facade.RSEvent;return r.pageX=e.pageX||e.clientX+$rs.scrollLeft(document),r.pageY=e.pageY||e.clientY+$rs.scrollTop(document),r.screenX=e.screenX,r.screenY=e.screenY,r.clientX=e.clientX,r.clientY=e.clientY,r.target=e.currentTarget||t,r.type=e.type,r.keyCode=e.keyCode,r.targetTouches=e.targetTouches,r.originalEvent=e,r},clone:function(e,t,r){return e.cloneNode(r=r||!1)},camel:function(e){return u(e)},remove:function(e){for(var t=this.arr(e),r=[],n=0,o=t.length;n<o;n++)t[n].parentElement&&t[n].parentElement.removeChild&&r.push(t[n].parentElement.removeChild(t[n]));return r||[]},focus:function(e){e=this.get(e),(e=this.isArray(e)&&e.length?e[0]:e).setActive&&e.setActive(),e.focus&&e.focus()},createElm:function(e,t){if(t=t||{},e&&"string"==typeof e){var n=document.createElement(e);if(t.cls&&"string"==typeof t.cls&&(n.className=t.cls),t.cls&&t.cls instanceof Array&&(n.className=t.cls.sort().join(" ").trim()),t.id&&this.setAttr(n,"id",t.id),t.content&&"string"==typeof t.content&&(n.innerHTML=t.content),t.content&&t.content.nodeType&&n.appendChild(t.content),t.content&&t.content.forEach&&t.content.forEach(function(e){n.appendChild(e)}),t.href&&"string"==typeof t.href&&(n.href=t.href),t.click&&"function"==typeof t.click&&n.addEventListener("click",t.click),t.change&&"function"==typeof t.change&&n.addEventListener("change",t.change),t.attributes&&"object"==typeof t.attributes)for(var r in t.attributes)t.attributes.hasOwnProperty(r)&&t.attributes[r]&&this.setAttr(n,r,t.attributes[r]);return t.buttonesque&&n.addEventListener("keydown",function(e){13!==e.which&&32!==e.which||(t.click?t.click.call(this,e):this.click())}),t.keyboard&&t.keyboard.forEach(function(r){r.code.forEach(function(t){n.addEventListener("keydown",function(e){e.which===t&&r.callback.bind(this).call()})})}),t.parent&&t.parent.appendChild&&t.parent.appendChild(n),n}},flatten:function(e,t){t=t||[];for(var r,n=0;r=e[n];n++)$rs.isArray(r)?$rs.flatten(r,t):t.push(r);return t}},d=null,u=function(e){return e.replace(t(),"ms-").replace(r(),n)},n=function(e,t){return(t+"").toUpperCase()},p=function(e,t){return window.getComputedStyle(e,null)[u(t)]||!1},s=function(e,t){var r="width"===t?"Width":"Height";if(e!==window&&e!==document){var n=e["offset"+r];return!isNaN(n)&&n||(n=p(e,t)),isNaN(n),parseInt(n)}try{if(e===window)return window["inner"+r]||document.documentElement["client"+r]||document.body["client"+r];if(e===document)return document.body["client"+r]}catch(e){return rspkr.error("[RSLib._getSize] Error: "+e.message),0}},i=function(e,t,r,n){var o,s=/X/.test(t),o=(o=r)&&o===o.window?o:9===o.nodeType&&(o.defaultView||o.parentWindow);if(void 0===n)return o?t in o?o[t]:o.document.documentElement[e]||document&&document.body&&document.body[e]:r[e];o?o.scrollTo(s?$rs.scrollLeft(o):n,s?n:$rs.scrollTop(o)):r[e]=n};return{meta:{revision:"2419"},init:function(){d=ReadSpeaker.lib.Facade.eq,window.$rs=o,ReadSpeaker.log("[rspkr.l.RSLib] Initialized.")}}}(),ReadSpeaker.lib.RSLib.init(),function(e){var o,s,i,a,l,t=(o={browser:{name:"",version:"",OS:"",html5AudioFormat:"",html5Support:!1,html5Priority:!1,syncContainer:"",webAudioSupport:!1,fetchSupport:!1},dataBrowser:[{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"Chromium",identity:"Chromium"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",versionSearch:"Version",identity:"Safari"},{prop:e.opera,versionSearch:"Version",identity:"Opera"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"MSIE",versionSearch:"MSIE",identity:"Explorer"},{test:function(){return/trident\//i.test(navigator.userAgent)&&!(!document.uniqueID&&!e.MSInputMethodContext)},versionSearch:"rv",identity:"Explorer"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.userAgent,subString:"Gecko",versionSearch:"rv",identity:"Mozilla"},{string:navigator.userAgent,subString:"Mozilla",versionSearch:"Mozilla",identity:"Netscape"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iOS"},{string:navigator.userAgent,subString:"iPad",identity:"iOS"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.platform,subString:"Linux",identity:"Linux"}],browserSettings:{Android:{minver:4},Explorer:{syncContainer:"font"},Firefox:{minver:6},Opera:{html5Support:!1},Edge:{audioFormat:"mp3"}}},s=function(e){for(var t=0;t<e.length;t++){if(this.versionSearchString=e[t].versionSearch||e[t].identity,e[t].test&&e[t].test())return e[t].identity;var r=e[t].string,n=e[t].prop;if(r){if(-1!==r.indexOf(e[t].subString))return e[t].identity}else if(n)return e[t].identity}},i=function(e){var t=e.indexOf(this.versionSearchString);if(-1!==t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},a=function(){return"function"==typeof e.fetch},l=function(){return!(!e.AudioContext&&!e.webkitAudioContext)},new function(){this.init=r,this.info=o.browser});function r(){rspkr.log("[rspkr.br] Initialized!");var e=navigator.userAgent;o.browser.name=s(o.dataBrowser)||"Unknown",o.browser.version=i(e)||i(navigator.appVersion)||"Unknown",o.browser.OS=s(o.dataOS)||"Unknown";var t=o.browser.name;o.browserSettings.hasOwnProperty(o.browser.name)||(o.browserSettings[t]={});var r,n=rspkr.item("general.syncContainer");n&&n.length&&"default"!==n?o.browser.syncContainer=rspkr.pub.Config.item("general.syncContainer"):o.browserSettings[t].hasOwnProperty("syncContainer")?o.browser.syncContainer=o.browserSettings[t].syncContainer:o.browser.syncContainer="rs:span",o.browserSettings[t].hasOwnProperty("html5Support")?o.browser.html5Support=o.browserSettings[t].html5Support:document.createElement("audio").canPlayType&&(o.browser.html5Support=!0),!0===o.browser.html5Support&&(e=r=!1,(n=document.createElement("audio")).canPlayType&&(r=n.canPlayType("audio/mpeg"),e=n.canPlayType('audio/ogg; codecs="vorbis"')),rspkr.log("mp3 support? "+r,1),rspkr.log("ogg support? "+e,1),/android/i.test(o.browser.OS)&&r?o.browser.html5AudioFormat="mp3":/android/i.test(o.browser.OS)?o.browser.html5AudioFormat="ogg":""!==r?o.browser.html5AudioFormat="mp3":""!==e?o.browser.html5AudioFormat="ogg":o.browser.html5Support=!1,o.browserSettings[t].hasOwnProperty("html5Priority")?o.browser.html5Priority=o.browserSettings[t].priority:o.browser.html5Priority=!0,o.browserSettings[t].hasOwnProperty("audioFormat")&&(o.browser.html5AudioFormat=o.browserSettings[t].audioFormat)),o.browserSettings[t].hasOwnProperty("minver")&&parseFloat(o.browser.version)<=parseFloat(o.browserSettings[t].minver)&&(o.browser.html5Priority=!1),o.browser.webAudioSupport=l(),o.browser.fetchSupport=a()}e.ReadSpeaker.Browser=e.ReadSpeaker.br=t}(window),function(e){e.ReadSpeaker.with={explorer:function(){return!!e.document.documentMode},edge:function(){return navigator.userAgentData&&navigator.userAgentData.brands.some(function(e){return"Microsoft Edge"===e.brand})||-1<e.navigator.userAgent.indexOf("Edg")},firefox:function(){return"netscape"in e&&/rv:/.test(navigator.userAgent)},safari:function(){return!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/)},chrome:function(){return navigator.userAgentData&&navigator.userAgentData.brands.some(function(e){return"Google Chrome"===e.brand})||/CriOS/i.test(navigator.userAgent)||!(!navigator.vendor||!navigator.vendor.match(/google/i)||this.edge()||this.opera())},opera:function(){return!(!navigator.userAgentData||!navigator.userAgentData.brands.some(function(e){return"Opera"===e.brand}))},iphone:function(){return"iPhone"===navigator.platform},ipad:function(){return"MacIntel"===navigator.platform&&"ontouchend"in document||"iPad"===navigator.platform},android:function(){return/Android/i.test(navigator.userAgent)},OS:function(){return this.macOS()?"macOS":this.windows()?"Windows":"other"},macOS:function(){return navigator.userAgentData&&"macOS"===navigator.userAgentData.platform||/mac/.test(navigator.platform.toLowerCase())},windows:function(){return/(win32|win64|windows|wince)/i.test(e.navigator.userAgent.toLowerCase())},what:function(e){var t,r="color:#cb3c3c",n=["%cwebReader state overview%c"],o=["font-size:1.2em;font-weight:800;color:#F67C4D;text-decoration:underline","font-size:1em;font-weight:normal;color:inherit;text-decoration:none"];n.push("- webReader version: "+rspkr.meta.version);var s=rspkr.c?rspkr.c.data.params.customerid:rspkr.getParam("customerid",rspkr.findHref());if(n.push("- Customer ID: "+s),-1!==rspkr.baseUrl.indexOf("/"+s+"/")?n.push("- Base URL: "+rspkr.baseUrl):(n.push("- Base URL: %c"+rspkr.baseUrl+"%c"),o.push(r),o.push("color:inherit")),(rspkr.with.explorer()?t="Explorer":rspkr.with.edge()&&(t="Microsoft Edge"))||rspkr.with.chrome()&&(t="Chrome")||rspkr.with.safari()&&(t="Safari")||rspkr.with.firefox()&&(t="Firefox")||rspkr.with.opera()&&(t="Opera")||o.push(r)&&o.push("color:inherit")&&(t="%cnone%c"),n.push("- Detected browser: "+t),n.push("- Operating System: "+rspkr.with.OS()),n.push("- Mobile: "+rspkr.mobile()),n.push("- Method: "+(!0===rspkr.cfg.item("general.usePost")?"POST":"GET")),rspkr.pl?n.push("- Audio Adapter: "+rspkr.pl.adapter):(n.push("- Audio Adapter: %cNot yet available%c"),o.push(r),o.push("color:inherit")),rspkr.hl?n.push("- HL Engine: "+(rspkr.hl.engine.useTextNodeMarkup?"Text Node HL engine":"Gecko HL engine")):(n.push("- HL Engine: %cNot yet available%c"),o.push(r),o.push("color:inherit")),n=n.join("\n"),o.splice(0,0,n),e)return o[0].replace(/%c/gi,"");console.log.apply(null,o)}}}(window),function(o){var i,t,r,e=(t=function(e){var t=e.document,r=navigator.userAgent,n=o.ReadSpeaker.DeferSelection;r&&(/iphone|ipad|ios|android/i.test(r.OS)||r.toLowerCase().match("android"))?($rs.regEvent(t.body,"touchend",n.saveSelection),$rs.regEvent(t.body,"selectionchange",n.saveSelection)):(r.toLowerCase().match("opera")?($rs.regEvent(t.body,"mouseup",n.saveSelectionOpera),$rs.regEvent(e,"mouseup",n.saveSelectionOpera)):$rs.regEvent(t.body,"mouseup",n.saveSelection),$rs.regEvent(t.body,"keyup",n.saveSelection)),$rs.regEvent(t.body,"mousedown",n.saveMousePosition)},r=function(e){var t=o.ReadSpeaker.DeferSelection,r=e.document;$rs.unregEvent(r.body,"touchend",t.saveSelection),$rs.unregEvent(r,"selectionchange",t.saveSelection),$rs.unregEvent(r.body,"mouseup",t.saveSelectionOpera),$rs.unregEvent(e,"mouseup",t.saveSelectionOpera),$rs.unregEvent(r.body,"mouseup",t.saveSelection),$rs.unregEvent(e,"mouseup",t.saveSelection),$rs.unregEvent(r.body,"keyup",t.saveSelection),$rs.unregEvent(r.body,"mousedown",t.saveMousePosition)},new function(){this.saveSelectionOpera=this.sso=s,this.saveSelection=this.ss=n,this.saveMousePosition=this.smp=l,this.getSelection=this.gs=a,this.unload=d,this.init=c});function n(e){for(var t=(i=e).originalEvent.srcElement,r=["input","textarea"],n=0;n<r.length;n++)if(t&&t.matches(r[n]))return;if(!$rs.isContentEditable(t)){var o,s,e=t.ownerDocument||document;if($rs.isChildOfParent(t,rspkr.getRSBtns()[0])||$rs.isChildOfParent(t,"#rsbtn_popup"))return!1;try{if(o=e.getSelection(),$rs.isContentEditable(o.anchorNode)||$rs.isContentEditable(o.focusNode))return;s=o.toString()}catch(e){}return s.length&&!o.isCollapsed?ReadSpeaker.popup.showPopup(i,s):ReadSpeaker.popup.closePopup(i),!0}}function s(e){return setTimeout(function(){o.ReadSpeaker.DeferSelection.saveSelection(e)},50),!0}function a(){return i}function l(e){o.ReadSpeaker.ds.pointerX=e.pageX,o.ReadSpeaker.ds.pointerY=e.pageY}function c(){t(o),"complete"===document.readyState||"loaded"===document.readyState?$rs.getReadingFrames().forEach(function(e){try{t(e)}catch(e){}}):document.addEventListener("readystatechange",function(){"complete"!==document.readyState&&"loaded"!==document.readyState||$rs.getReadingFrames().forEach(function(e){try{t(e)}catch(e){}})})}function d(){"complete"===document.readyState||"loaded"===document.readyState?$rs.getReadingFrames().forEach(function(e){try{r(e)}catch(e){}}):document.addEventListener("readystatechange",function(){"complete"!==document.readyState&&"loaded"!==document.readyState||$rs.getReadingFrames().forEach(function(e){try{r(e)}catch(e){}})}),rspkr&&rspkr.c.data.setSelectedText&&i&&rspkr.c.data.setSelectedText(i)}o.ReadSpeaker.DeferSelection=o.ReadSpeaker.ds=e}(window),window.ReadSpeaker.Keyboard=function(){function e(){var e,t=rspkr.item("settings.kb"),r=["shift","alt","ctrl"];for(e in t)if(t.hasOwnProperty(e)){var n={},o=rspkr.st&&rspkr.st.get("kb."+e)||t[e];if("0"!==o){for(var s,i=0,a=o.split("+");s=a[i];i++)0<=r.indexOf(s)?n[s]=!0:n.key=s;l[e]=n}else l[e]="0"}}function r(t){if("object"==typeof t){var r=[];return Object.keys(t).forEach(function(e){"key"===e&&r.push(t[e]),"key"!==e&&!0===t[e]&&r.push(e)}),r.sort().join("+")}}function n(t,r,e){if(!navigator.keyboard||e)return"Digit"===(t="Key"===t.substr(0,3)?t.substr(3):t).substr(0,5)&&(t=t.substr(5)),r&&(r.innerText=t),t;navigator.keyboard.getLayoutMap().then(function(e){r.innerText=e.get(t)})}function t(e){var t=e.composedPath?e.composedPath()[0]:e.target;if(t&&t.closest){if($rs.isContentEditable(t))return;for(var r=["textarea","input"],n=0;n<r.length;n++)if(t.closest(r[n]))return;if(t.closest(".rs-noshortcut"))return;var o=rspkr.conf("ui.disableShortcutSelector");if(o&&"."!==o&&t.closest(o))return}rspkr.st&&"off"===rspkr.st.get("shortcuts")||e.repeat||rspkr.Keyboard.blocked||1===e.key.length&&(e.shiftKey||e.altKey||e.ctrlKey)&&(e={shift:e.shiftKey,alt:e.altKey,ctrl:e.ctrlKey,key:e.code},(e=s(e))&&i(e))}var l={},s=function(e){for(var t in e=r(e),l)if(l.hasOwnProperty(t)&&e===r(l[t]))return t},o={playerfocus:function(){var e;rspkr.ui&&rspkr.ui.getActivePlayerElm()&&rspkr.ui.getActivePlayerElm().querySelector(".rsbtn_play")?rspkr.ui.getActivePlayerElm().querySelector(".rsbtn_play").focus():(e=0,(e=rspkr.getRSBtns()[e])&&$rs.isVisible(e)&&e.querySelector(".rsbtn_play")&&e.querySelector(".rsbtn_play").focus())},textmode:function(){rspkr.ui&&rspkr.ui.Tools.TextMode.start()},settings:function(){rspkr.Preferences&&rspkr.Preferences.open()},clicklisten:function(){rspkr.ui&&rspkr.ui.Tools.ClickListen.toggle()},enlarge:function(){rspkr.ui&&rspkr.ui.Tools.Enlarge.toggle()},pagemask:function(){rspkr.ui&&rspkr.ui.Tools.PageMask.start("mask")},download:function(){rspkr.ui&&rspkr.ui.Tools.Download.download()},help:function(){rspkr.ui&&rspkr.ui.Tools.Help.open()}},i=function(e){if(o[e])o[e]();else{var t=Array.from(document.querySelectorAll('[data-rsshortcut~="%s"]:not([style="display:none"])'.replace("%s",e)));t.sort(function(e,t){e=parseInt(e.getAttribute("data-rsshortcut-prioritize"))||0;return(parseInt(t.getAttribute("data-rsshortcut-prioritize"))||0)-e});for(var r,n=0;r=t[n];n++)if($rs.isVisible(r))return r.focus(),r.click(),void rspkr.log("[rspkr.Keyboard.triggerAction] Shortcut triggered for action '"+e+"'");rspkr.log("[rspkr.Keyboard.triggerAction] Could not find action listener for action '"+e+"'")}};return{insertMappedKey:n,getAction:s,getShortcut:function(e,t){if(t){var r=l[e],t=[];return r.shift&&t.push(rspkr.Lang.getPhrase("shortcuts-shift")||"Shift"),r.ctrl&&t.push(rspkr.Lang.getPhrase("shortcuts-ctrl")||"Ctrl"),r.alt&&t.push(rspkr.Lang.getPhrase("shortcuts-alt")||"Alt"),r.key&&t.push(n(r.key,void 0,!0)),t.join(" + ")}return l[e]},init:function(){rspkr.log("[rspkr.Keyboard] Heartbeat!"),rspkr.q(e),e(),document.addEventListener("keydown",t)},restoreShortcuts:e,setShortcut:function(e,t){l[e]=t,rspkr.st.set("kb."+e,Object.keys(t).length?r(t):"0")}}}(),function(){function e(){t=!0,rspkr.init()}var t=!1;"complete"===document.readyState?e():document.addEventListener("readystatechange",function(){t||"complete"===document.readyState&&e()})}();