(({behaviors:e},t,n)=>{t.events.headerClick=e=>{const n=t.linkText(e.currentTarget),a=e.currentTarget.href;t.dlPush({event:"link_interaction",event_category:"Header click",event_action:"Click",event_label:n,destinationURL:a})},e.SnswAnalyticsGlobalHeaderLinks={mounted(e){const n=e.querySelectorAll("[class^='NavLink__link'], [class*='MenuButton__mobileNav'], [class*='MenuButton__globalHeader']");n&&n.forEach(e=>{e.addEventListener("click",t.events.headerClick)})}},t.events.changeLanguage=e=>{const{language:n}=e.currentTarget.dataset;t.dlPush({event:"select",event_category:"Translate",event_action:"Select Language",event_label:n})},e.SnswAnalyticsChangeLanguage={mounted(e){const n=e.querySelectorAll("[class^='Translate__link']");n&&n.forEach(e=>{e.addEventListener("click",t.events.changeLanguage)})}},t.events.footerClick=e=>{const n=t.linkText(e.currentTarget),a=e.currentTarget.href;t.dlPush({event:"link_interaction",event_category:"Footer click",event_action:"Click",event_label:n,destinationURL:a})},e.SnswAnalyticsGlobalFooterLinks={mounted(e){const n=e.querySelectorAll("[class^='NavLink__link']");n&&n.forEach(e=>{e.addEventListener("click",t.events.footerClick)})}},t.events.navigationShareClick=e=>{const n=t.linkText(e.currentTarget);t.dlPush({event:"social_share",event_category:"socialNetwork:Widget_"+n,event_action:"Footer_SocialWidget_click",event_label:t.currentUrl(),social_network:"socialNetwork:Widget_"+n,social_action:"Footer_SocialWidget_click",social_target:t.currentUrl()})},e.SnswAnalyticsGlobalFooterSocialLinks={mounted(e){const n=e.querySelectorAll("[class^='SocialNav__link']");n&&n.forEach(e=>{e.addEventListener("click",t.events.navigationShareClick)})}},e.SnswAnalyticsGlobalHeaderSearchSuggestions={mounted(e){var n;const a=null===(n=e.querySelector("[class^='SearchBar__form'] [name=q]"))||void 0===n?void 0:n.value;if(!a)return;const l=e.querySelector("[id^='search-bar-listbox']");if(!l)return;new MutationObserver(e=>{e.forEach(({addedNodes:e})=>{e.forEach(({firstChild:e})=>{e.addEventListener("click",e=>t.events.suggestionClick(e.currentTarget,a,"Global"))})})}).observe(l,{childList:!0})}},e.SnswAnalyticsGlobalHeaderSearchSubmit={mounted(e){const n=e.querySelector("[class^='SearchBar__button']");n&&n.addEventListener("click",()=>{const n=e.querySelector("[class^='SearchBar__form'] [name=q]").value;t.events.searchSubmit(n,"Global")})}},e.SnswAnalyticsGlobalNav={attach(t){const a=n("global-header","#global-header",t),l=n("global-footer","#global-footer",t);if(0===a.length||0===l.length)return;const o=a.shift(),r=t=>setTimeout(()=>{e.SnswAnalyticsGlobalHeaderLinks.mounted(t),e.SnswAnalyticsChangeLanguage.mounted(t),e.SnswAnalyticsGlobalHeaderSearchSubmit.mounted(t),e.SnswAnalyticsGlobalHeaderSearchSuggestions.mounted(t)},3e3),c=l.shift(),s=t=>setTimeout(()=>{e.SnswAnalyticsGlobalFooterLinks.mounted(t),e.SnswAnalyticsGlobalFooterSocialLinks.mounted(t)},3e3),i="data-mounted";if(o.hasAttribute(i)||c.hasAttribute(i))return o.hasAttribute(i)&&r(o),void(c.hasAttribute(i)&&s(c));const u={attributes:!0},d=new MutationObserver((e,t)=>{e.forEach(({target:e,attributeName:n})=>{e===o&&n===i&&(r(o),t.disconnect()),e===c&&n===i&&(s(c),t.disconnect())})});d.observe(o,u),d.observe(c,u)}}})(Drupal,SnswAnalytics,once);
