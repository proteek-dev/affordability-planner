(({behaviors:e},t,n)=>{t.events.noticeLoad=e=>{if(e){var n,o;let i=e.getAttribute("data-outage-message");"default"===i&&(i="info");const r=t.componentIds(e,".notice");dataLayer.push({event:"error_alert",error_type:"alert "+i,error_text:(null===(n=e.querySelector("h2"))||void 0===n?void 0:n.innerText)||(null===(o=e.querySelector("p"))||void 0===o?void 0:o.innerText)||"",error_name:"page notice",error_position:"page_content",position_id:r.position_id||null})}},e.SnswAnalytics4NoticeLoad={mounted(e){const n=e.querySelectorAll(".page-notices .notice");n&&n.forEach(e=>{t.events.noticeLoad(e)})}},e.SnswAnalytics4Notice={attach(t){const o=n("notices","#notices",t);if(0===o.length)return;const i=o.shift(),r=t=>setTimeout(()=>{e.SnswAnalytics4NoticeLoad.mounted(t),e.SnswAnalytics4NoticeLinkClick.mounted(t)},3e3);if(i.hasAttribute("data-mounted"))return void r(i);new MutationObserver((e,t)=>{e.forEach(({target:e,attributeName:n})=>{e===i&&"data-mounted"===n&&(r(i),t.disconnect())})}).observe(i,{attributes:!0})}},t.events.noticeLinkClick=e=>{const n=t.componentIds(e.currentTarget,".notice a[href]");dataLayer.push({event:"component_interaction",component_type:"in_page_alert_link",component_text:t.linkText(e.currentTarget),section_id:n.section_id||null,position_id:n.position_id||null,destination_url:e.currentTarget.href})},e.SnswAnalytics4NoticeLinkClick={mounted(e){const n=e.querySelectorAll(".notice a[href]");n&&n.forEach(e=>{e.addEventListener("click",t.events.noticeLinkClick)})}}})(Drupal,SnswAnalytics,once);
